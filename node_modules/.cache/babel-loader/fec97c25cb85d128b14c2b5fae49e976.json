{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _escapeRegExp = require('lodash/escapeRegExp');\nvar _escapeRegExp2 = _interopRequireDefault(_escapeRegExp);\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nvar findWithRegex = function findWithRegex(regex, contentBlock, callback) {\n  var contentBlockText = contentBlock.getText();\n\n  // exclude entities, when matching\n  contentBlock.findEntityRanges(function (character) {\n    return !character.getEntity();\n  }, function (nonEntityStart, nonEntityEnd) {\n    var text = contentBlockText.slice(nonEntityStart, nonEntityEnd);\n    var matchArr = void 0;\n    var start = void 0;\n    var prevLastIndex = regex.lastIndex;\n\n    // Go through all matches in the text and return the indices to the callback\n    // Break the loop if lastIndex is not changed\n    while ((matchArr = regex.exec(text)) !== null) {\n      // eslint-disable-line\n      if (regex.lastIndex === prevLastIndex) {\n        break;\n      }\n      prevLastIndex = regex.lastIndex;\n      start = nonEntityStart + matchArr.index;\n      callback(start, start + matchArr[0].length);\n    }\n  });\n};\nexports.default = function (trigger, supportWhiteSpace, regExp) {\n  //eslint-disable-line\n  var MENTION_REGEX = supportWhiteSpace ? new RegExp((0, _escapeRegExp2.default)(trigger) + '(' + regExp + '|\\\\s){0,}', 'g') : new RegExp('(\\\\s|^)' + (0, _escapeRegExp2.default)(trigger) + regExp, 'g');\n  return function (contentBlock, callback) {\n    findWithRegex(MENTION_REGEX, contentBlock, callback);\n  };\n};","map":{"version":3,"names":["Object","defineProperty","exports","value","_escapeRegExp","require","_escapeRegExp2","_interopRequireDefault","obj","__esModule","default","findWithRegex","regex","contentBlock","callback","contentBlockText","getText","findEntityRanges","character","getEntity","nonEntityStart","nonEntityEnd","text","slice","matchArr","start","prevLastIndex","lastIndex","exec","index","length","trigger","supportWhiteSpace","regExp","MENTION_REGEX","RegExp"],"sources":["/home/mts/FX-Project/node_modules/draft-js-mention-plugin/lib/mentionSuggestionsStrategy.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _escapeRegExp = require('lodash/escapeRegExp');\n\nvar _escapeRegExp2 = _interopRequireDefault(_escapeRegExp);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar findWithRegex = function findWithRegex(regex, contentBlock, callback) {\n  var contentBlockText = contentBlock.getText();\n\n  // exclude entities, when matching\n  contentBlock.findEntityRanges(function (character) {\n    return !character.getEntity();\n  }, function (nonEntityStart, nonEntityEnd) {\n    var text = contentBlockText.slice(nonEntityStart, nonEntityEnd);\n    var matchArr = void 0;\n    var start = void 0;\n    var prevLastIndex = regex.lastIndex;\n\n    // Go through all matches in the text and return the indices to the callback\n    // Break the loop if lastIndex is not changed\n    while ((matchArr = regex.exec(text)) !== null) {\n      // eslint-disable-line\n      if (regex.lastIndex === prevLastIndex) {\n        break;\n      }\n      prevLastIndex = regex.lastIndex;\n      start = nonEntityStart + matchArr.index;\n      callback(start, start + matchArr[0].length);\n    }\n  });\n};\n\nexports.default = function (trigger, supportWhiteSpace, regExp) {\n  //eslint-disable-line\n  var MENTION_REGEX = supportWhiteSpace ? new RegExp((0, _escapeRegExp2.default)(trigger) + '(' + regExp + '|\\\\s){0,}', 'g') : new RegExp('(\\\\s|^)' + (0, _escapeRegExp2.default)(trigger) + regExp, 'g');\n\n  return function (contentBlock, callback) {\n    findWithRegex(MENTION_REGEX, contentBlock, callback);\n  };\n};"],"mappings":"AAAA,YAAY;;AAEZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AAEF,IAAIC,aAAa,GAAGC,OAAO,CAAC,qBAAqB,CAAC;AAElD,IAAIC,cAAc,GAAGC,sBAAsB,CAACH,aAAa,CAAC;AAE1D,SAASG,sBAAsBA,CAACC,GAAG,EAAE;EAAE,OAAOA,GAAG,IAAIA,GAAG,CAACC,UAAU,GAAGD,GAAG,GAAG;IAAEE,OAAO,EAAEF;EAAI,CAAC;AAAE;AAE9F,IAAIG,aAAa,GAAG,SAASA,aAAaA,CAACC,KAAK,EAAEC,YAAY,EAAEC,QAAQ,EAAE;EACxE,IAAIC,gBAAgB,GAAGF,YAAY,CAACG,OAAO,CAAC,CAAC;;EAE7C;EACAH,YAAY,CAACI,gBAAgB,CAAC,UAAUC,SAAS,EAAE;IACjD,OAAO,CAACA,SAAS,CAACC,SAAS,CAAC,CAAC;EAC/B,CAAC,EAAE,UAAUC,cAAc,EAAEC,YAAY,EAAE;IACzC,IAAIC,IAAI,GAAGP,gBAAgB,CAACQ,KAAK,CAACH,cAAc,EAAEC,YAAY,CAAC;IAC/D,IAAIG,QAAQ,GAAG,KAAK,CAAC;IACrB,IAAIC,KAAK,GAAG,KAAK,CAAC;IAClB,IAAIC,aAAa,GAAGd,KAAK,CAACe,SAAS;;IAEnC;IACA;IACA,OAAO,CAACH,QAAQ,GAAGZ,KAAK,CAACgB,IAAI,CAACN,IAAI,CAAC,MAAM,IAAI,EAAE;MAC7C;MACA,IAAIV,KAAK,CAACe,SAAS,KAAKD,aAAa,EAAE;QACrC;MACF;MACAA,aAAa,GAAGd,KAAK,CAACe,SAAS;MAC/BF,KAAK,GAAGL,cAAc,GAAGI,QAAQ,CAACK,KAAK;MACvCf,QAAQ,CAACW,KAAK,EAAEA,KAAK,GAAGD,QAAQ,CAAC,CAAC,CAAC,CAACM,MAAM,CAAC;IAC7C;EACF,CAAC,CAAC;AACJ,CAAC;AAED5B,OAAO,CAACQ,OAAO,GAAG,UAAUqB,OAAO,EAAEC,iBAAiB,EAAEC,MAAM,EAAE;EAC9D;EACA,IAAIC,aAAa,GAAGF,iBAAiB,GAAG,IAAIG,MAAM,CAAC,CAAC,CAAC,EAAE7B,cAAc,CAACI,OAAO,EAAEqB,OAAO,CAAC,GAAG,GAAG,GAAGE,MAAM,GAAG,WAAW,EAAE,GAAG,CAAC,GAAG,IAAIE,MAAM,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE7B,cAAc,CAACI,OAAO,EAAEqB,OAAO,CAAC,GAAGE,MAAM,EAAE,GAAG,CAAC;EAEvM,OAAO,UAAUpB,YAAY,EAAEC,QAAQ,EAAE;IACvCH,aAAa,CAACuB,aAAa,EAAErB,YAAY,EAAEC,QAAQ,CAAC;EACtD,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"script"}