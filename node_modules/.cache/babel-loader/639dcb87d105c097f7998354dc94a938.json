{"ast":null,"code":"var _jsxFileName = \"/home/mts/Vishal/src/components/Model/PaymentModal/CallPaymentModal.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { translate, t } from 'react-multi-lang';\nimport { Button, Col, Modal, Row } from 'react-bootstrap';\nimport PaymentMethodCard from './PaymentMethodCard';\nimport PaymentModelMsgSec from './PaymentModelMsgSec';\nimport { audioCallPayByWalletStart, videoCallPayByWalletStart } from '../../../store/actions/PrivateCallAction';\nconst CallPaymentModal = props => {\n  const {\n    isVideo = false\n  } = props;\n  const nullData = [\"\", null, undefined, \"light\"];\n  const [skipRender, setSkipRender] = useState(true);\n  const [paymentType, setPaymentType] = useState(localStorage.getItem(\"default_payment_method\"));\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [showAddCard, setShowAddCard] = useState(false);\n  const paypalOnError = () => {};\n  const paypalOnSuccess = () => {};\n  const paypalOnCancel = () => {};\n  const handleSubmit = () => {\n    if (isVideo) {\n      props.dispatch(videoCallPayByWalletStart({\n        video_call_request_id: props.callDetails.video_call_request_id\n      }));\n    } else {\n      props.dispatch(audioCallPayByWalletStart({\n        audio_call_request_id: props.callDetails.audio_call_request_id\n      }));\n    }\n  };\n  useEffect(() => {\n    if (!skipRender && !props.audioCallPayByWallet.loading && Object.keys(props.audioCallPayByWallet.data).length > 0) {\n      props.closepaymentsModal();\n    }\n  }, [props.audioCallPayByWallet]);\n  useEffect(() => {\n    if (!skipRender && !props.videoCallPayByWallet.loading && Object.keys(props.videoCallPayByWallet.data).length > 0) {\n      props.closepaymentsModal();\n    }\n    setSkipRender(false);\n  }, [props.videoCallPayByWallet]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"payment-modal-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Modal, {\n    className: `modal-dialog-center user-list-free-modal payment-modal-res ${nullData.includes(localStorage.getItem(\"theme\")) ? \"\" : \"dark-theme-modal\"}`,\n    size: \"xl\",\n    centered: true,\n    show: props.paymentsModal,\n    onHide: props.closepaymentsModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Body, {\n    className: \"wallet-card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"modal-close\",\n    onClick: () => props.closepaymentsModal(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-times\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"payment-modal-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(PaymentMethodCard, {\n    paymentType: paymentType,\n    setPaymentType: setPaymentType,\n    selectedCard: selectedCard,\n    setSelectedCard: setSelectedCard,\n    setShowAddCard: setShowAddCard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Col, {\n    md: 12,\n    xl: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(PaymentModelMsgSec, {\n    title: t(isVideo ? \"video_payment\" : \"audio_payment\"),\n    message: t(isVideo ? \"video_payment_note\" : \"audio_payment_note\"),\n    paymentType: paymentType,\n    amount_formatted: props.callDetails.amount_formatted,\n    amount: props.callDetails.amount,\n    payNowAction: handleSubmit,\n    paypalOnError: paypalOnError,\n    paypalOnSuccess: paypalOnSuccess,\n    paypalOnCancel: paypalOnCancel,\n    btnDisable: props.audioCallPayByWallet.ButtonDisable || props.videoCallPayByWallet.ButtonDisable,\n    btnText: props.audioCallPayByWallet.loadingButtonContent ? props.audioCallPayByWallet.loadingButtonContent : props.videoCallPayByWallet.loadingButtonContent ? props.videoCallPayByWallet.loadingButtonContent : t(\"pay\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 19\n    }\n  }))))))));\n};\nconst mapStateToPros = state => ({\n  audioCallPayByWallet: state.privateCall.audioCallPayByWallet,\n  videoCallPayByWallet: state.privateCall.audioCallPayByWallet\n});\nfunction mapDispatchToProps(dispatch) {\n  return {\n    dispatch\n  };\n}\nexport default connect(mapStateToPros, mapDispatchToProps)(translate(CallPaymentModal));","map":{"version":3,"names":["React","useState","useEffect","connect","translate","t","Button","Col","Modal","Row","PaymentMethodCard","PaymentModelMsgSec","audioCallPayByWalletStart","videoCallPayByWalletStart","CallPaymentModal","props","isVideo","nullData","undefined","skipRender","setSkipRender","paymentType","setPaymentType","localStorage","getItem","selectedCard","setSelectedCard","showAddCard","setShowAddCard","paypalOnError","paypalOnSuccess","paypalOnCancel","handleSubmit","dispatch","video_call_request_id","callDetails","audio_call_request_id","audioCallPayByWallet","loading","Object","keys","data","length","closepaymentsModal","videoCallPayByWallet","createElement","Fragment","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","includes","size","centered","show","paymentsModal","onHide","Body","onClick","md","xl","title","message","amount_formatted","amount","payNowAction","btnDisable","ButtonDisable","btnText","loadingButtonContent","mapStateToPros","state","privateCall","mapDispatchToProps"],"sources":["/home/mts/Vishal/src/components/Model/PaymentModal/CallPaymentModal.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { translate, t } from 'react-multi-lang';\nimport { Button, Col, Modal, Row } from 'react-bootstrap';\nimport PaymentMethodCard from './PaymentMethodCard';\nimport PaymentModelMsgSec from './PaymentModelMsgSec';\nimport { audioCallPayByWalletStart, videoCallPayByWalletStart } from '../../../store/actions/PrivateCallAction';\n\n\nconst CallPaymentModal = (props) => {\n  const { isVideo = false } = props;\n\n  const nullData = [\"\", null, undefined, \"light\"];\n\n  const [skipRender, setSkipRender] = useState(true);\n  const [paymentType, setPaymentType] = useState(\n    localStorage.getItem(\"default_payment_method\")\n  );\n  const [selectedCard, setSelectedCard] = useState(null);\n  const [showAddCard, setShowAddCard] = useState(false);\n\n  const paypalOnError = () => { }\n  const paypalOnSuccess = () => { }\n  const paypalOnCancel = () => { }\n\n  const handleSubmit = () => {\n    if (isVideo) {\n      props.dispatch(\n        videoCallPayByWalletStart({\n          video_call_request_id: props.callDetails.video_call_request_id,\n        })\n      );\n    } else {\n      props.dispatch(\n        audioCallPayByWalletStart({\n          audio_call_request_id: props.callDetails.audio_call_request_id,\n        })\n      );\n    }\n  }\n\n  useEffect(() => {\n    if (!skipRender && !props.audioCallPayByWallet.loading && Object.keys(props.audioCallPayByWallet.data).length > 0) {\n      props.closepaymentsModal();\n    }\n  }, [props.audioCallPayByWallet]);\n\n  useEffect(() => {\n    if (!skipRender && !props.videoCallPayByWallet.loading && Object.keys(props.videoCallPayByWallet.data).length > 0) {\n      props.closepaymentsModal();\n    }\n    setSkipRender(false);\n  }, [props.videoCallPayByWallet]);\n\n  return (\n    <>\n      <div className=\"payment-modal-sec\">\n        <Modal\n          className={`modal-dialog-center user-list-free-modal payment-modal-res ${nullData.includes(localStorage.getItem(\"theme\"))\n            ? \"\"\n            : \"dark-theme-modal\"\n            }`}\n          size=\"xl\"\n          centered\n          show={props.paymentsModal}\n          onHide={props.closepaymentsModal}\n        >\n          {/* <Modal.Header closeButton>\n            {/* <Modal.Title>User List</Modal.Title> *\n          </Modal.Header> */}\n          <Modal.Body className=\"wallet-card-body\">\n            <Button\n              className=\"modal-close\"\n              onClick={() => props.closepaymentsModal()}\n            >\n              <i className=\"fa fa-times\" />\n            </Button>\n            <div className=\"payment-modal-body\">\n              <Row className=\"justify-content-between\">\n                <PaymentMethodCard\n                  paymentType={paymentType}\n                  setPaymentType={setPaymentType}\n                  selectedCard={selectedCard}\n                  setSelectedCard={setSelectedCard}\n                  setShowAddCard={setShowAddCard}\n                />\n                <Col md={12} xl={5}>\n                  <PaymentModelMsgSec\n                    title={t(isVideo ? \"video_payment\" : \"audio_payment\")}\n                    message={t(isVideo ? \"video_payment_note\" : \"audio_payment_note\")}\n                    paymentType={paymentType}\n                    amount_formatted={props.callDetails.amount_formatted}\n                    amount={props.callDetails.amount}\n                    payNowAction={handleSubmit}\n                    paypalOnError={paypalOnError}\n                    paypalOnSuccess={paypalOnSuccess}\n                    paypalOnCancel={paypalOnCancel}\n                    btnDisable={\n                      props.audioCallPayByWallet.ButtonDisable ||\n                      props.videoCallPayByWallet.ButtonDisable\n                    }\n                    btnText={\n                      props.audioCallPayByWallet.loadingButtonContent\n                        ? props.audioCallPayByWallet.loadingButtonContent\n                        : props.videoCallPayByWallet.loadingButtonContent\n                          ? props.videoCallPayByWallet.loadingButtonContent\n                          : t(\"pay\")\n                    }\n                  />\n                </Col>\n              </Row>\n            </div>\n          </Modal.Body>\n        </Modal>\n      </div>\n    </>\n  );\n}\n\nconst mapStateToPros = (state) => ({\n  audioCallPayByWallet: state.privateCall.audioCallPayByWallet,\n  videoCallPayByWallet: state.privateCall.audioCallPayByWallet,\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return { dispatch };\n}\n\nexport default connect(\n  mapStateToPros,\n  mapDispatchToProps\n)(translate(CallPaymentModal));"],"mappings":"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"},"metadata":{},"sourceType":"module"}