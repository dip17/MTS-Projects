{"ast":null,"code":"var _jsxFileName = \"/home/mts/FX-Project/src/components/VideoAudioCall/NewVideoCallIndex.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { Modal, Container, Row, Col, Button, Form, Image, Media, InputGroup, FormControl } from \"react-bootstrap\";\nimport \"./VideoAudioCall.css\";\nimport { Link } from \"react-router-dom\";\nimport NewVideoAudioCallChatIndex from \"./NewVideoAudioCallChatIndex\";\nimport MobileVideoAudioChatModal from \"./MobileVideoAudioChatModal\";\nimport AgoraRTC from \"agora-rtc-sdk-ng\";\nimport useAgoraRTC from \"../../hooks/useAgoraRTC\";\nimport { fetchSingleVideoCallStart, joinVideoCallStart, endVideoCallStart } from \"../../store/actions/PrivateCallAction\";\nimport { connect } from \"react-redux\";\nimport { translate, t } from \"react-multi-lang\";\nimport configuration from \"react-global-configuration\";\nimport AgoraMediaPlayer from \"../helper/AgoraMediaPlayer\";\nimport SendTipPaymentModal from \"../Model/PaymentModal/SendTipPaymentModal\";\nimport { addVideoCallMessageContent, fetchVideoCallChatMessageStart } from \"../../store/actions/VideoCallAction\";\nimport io from \"socket.io-client\";\nconst rtcclient = AgoraRTC.createClient({\n  mode: \"rtc\",\n  codec: \"vp8\"\n});\nlet chatSocket;\nconst VideoCallIndex = props => {\n  const {\n    localAudioTrack,\n    localVideoTrack,\n    leaveRtcChannel,\n    join,\n    joinState,\n    remoteUsers,\n    isStreamEnded,\n    muteAudio,\n    muteVideo,\n    mediaStatus\n  } = useAgoraRTC(rtcclient);\n  const [mobileVideoAudioChat, setMobileVideoAudioChat] = useState(false);\n  const [showTipModal, setShowTipModal] = useState(false);\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [initialHeight, setInitialHeight] = useState(0);\n  const closeMobileVideoAudioChatModal = () => {\n    setMobileVideoAudioChat(false);\n  };\n  const closeTipModal = () => {\n    setShowTipModal(false);\n  };\n  useEffect(() => {\n    props.dispatch(fetchSingleVideoCallStart({\n      video_call_request_unique_id: props.match.params.video_call_request_unique_id\n    }));\n  }, []);\n  useEffect(() => {\n    if (!props.singleVideoCall.loading) {\n      handleJoin();\n    }\n  }, [props.singleVideoCall.loading]);\n  useEffect(() => {\n    if (joinState) {\n      props.dispatch(joinVideoCallStart({\n        video_call_request_id: props.singleVideoCall.data.video_call_request.video_call_request_id\n      }));\n    }\n  }, [joinState]);\n  const handleJoin = () => {\n    join(configuration.get(\"configData.agora_app_id\"), props.singleVideoCall.data.video_call_request.virtual_id, props.singleVideoCall.data.video_call_request.agora_token ? props.singleVideoCall.data.video_call_request.agora_token : null, \"host\", \"rtc\");\n  };\n  const leaveCall = () => {\n    if (window.confirm(t(\"are_you_sure_to_leave_call\"))) {\n      leaveRtcChannel();\n      props.dispatch(endVideoCallStart({\n        video_call_request_id: props.singleVideoCall.data.video_call_request.video_call_request_id\n      }));\n      window.location.assign(\"/video-calls-history\");\n    } else {}\n  };\n  useEffect(() => {\n    if (isStreamEnded) {\n      props.dispatch(endVideoCallStart({\n        video_call_request_id: props.singleVideoCall.data.video_call_request.video_call_request_id\n      }));\n      window.location.assign(\"/video-calls-history\");\n    }\n  }, [isStreamEnded]);\n  useEffect(() => {\n    if (!props.singleVideoCall.loading) {\n      props.dispatch(fetchVideoCallChatMessageStart({\n        video_call_request_id: props.singleVideoCall.data.video_call_request.video_call_request_id\n      }));\n      chatSocketConnect(props.singleVideoCall.data.video_call_request.video_call_request_unique_id);\n    }\n  }, [props.singleVideoCall.loading]);\n  const chatSocketConnect = id => {\n    // check the socket url is configured\n    let chatSocketUrl = configuration.get(\"configData.chat_socket_url\");\n    if (chatSocketUrl && id) {\n      chatSocket = io(chatSocketUrl, {\n        query: `room : video_call_` + id + ``\n      });\n      chatSocket.emit(\"video call update sender\", {\n        commonid: `video_call_` + id + ``\n      });\n      chatSocket.on(\"video call chat\", newData => {\n        let content = [];\n        content.push(newData);\n        props.dispatch(addVideoCallMessageContent(content));\n      });\n    }\n  };\n  const handleChatSubmit = event => {\n    event.preventDefault();\n    if (inputMessage) {\n      let chatData = [{\n        loggedin_user_id: localStorage.getItem(\"userId\"),\n        user_id: localStorage.getItem(\"userId\"),\n        model_id: props.singleVideoCall.data.video_call_request.model_id,\n        video_call_request_id: props.singleVideoCall.data.video_call_request.video_call_request_id,\n        message: inputMessage,\n        from_username: localStorage.getItem(\"username\"),\n        from_userpicture: localStorage.getItem(\"user_picture\"),\n        video_call_unique_id: props.singleVideoCall.data.video_call_request.video_call_request_unique_id,\n        created: new Date()\n      }];\n      chatSocket.emit(\"video call chat\", chatData[0]);\n      props.dispatch(addVideoCallMessageContent(chatData));\n      setInputMessage(\"\");\n    }\n  };\n  useEffect(() => {\n    scrollDownChat();\n  }, [props.videoCallChatMessage.data]);\n  const scrollDownChat = () => {\n    const parent = document.querySelector(\"#chat-container\");\n    const objDiv = document.querySelector(\".video-call-chat-room\");\n    if (objDiv != null) {\n      parent.scrollTop = objDiv.scrollHeight;\n    }\n  };\n  if (props.singleVideoCall.loading) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"video-call-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"video-call-box justify-content-center row m-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"video-call-card-left col-lg-9 col-md-8 p-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 11\n    }\n  }, joinState && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"video-call-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 15\n    }\n  }, remoteUsers.length > 0 ? remoteUsers.map(user => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"video-call-user-img-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 21\n    }\n  }, user._video_muted_ ? /*#__PURE__*/React.createElement(Image, {\n    src: props.singleVideoCall.data.video_call_request.is_model == 1 ? props.singleVideoCall.data.video_call_request.user_picture : props.singleVideoCall.data.video_call_request.model_picture,\n    alt: \"action-icons\",\n    className: \"video-call-bg-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 25\n    }\n  }) : /*#__PURE__*/React.createElement(AgoraMediaPlayer, {\n    videoTrack: user.videoTrack,\n    audioTrack: user.audioTrack,\n    useClassname: \"video-call-bg-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 25\n    }\n  }))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"video-call-user-img-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: props.singleVideoCall.data.video_call_request.is_model == 1 ? props.singleVideoCall.data.video_call_request.user_picture : props.singleVideoCall.data.video_call_request.model_picture,\n    alt: \"action-icons\",\n    className: \"video-call-bg-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"video-call-user-img-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 17\n    }\n  }, mediaStatus.video.muted ? /*#__PURE__*/React.createElement(Image, {\n    src: props.singleVideoCall.data.video_call_request.is_model === 1 ? props.singleVideoCall.data.video_call_request.model_picture : props.singleVideoCall.data.video_call_request.user_picture,\n    alt: \"action-icons\",\n    className: \"video-call-user-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 21\n    }\n  }) : /*#__PURE__*/React.createElement(AgoraMediaPlayer, {\n    videoTrack: localVideoTrack,\n    useClassname: \"video-call-user-img\",\n    mirror: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"video-call-action-btn-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"list-unstyled video-call-action-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Media, {\n    as: \"li\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"btn-link\",\n    onClick: () => muteVideo(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 23\n    }\n  }, mediaStatus.video.muted ? /*#__PURE__*/React.createElement(Image, {\n    src: window.location.origin + \"/assets/images/video-call/camera-off.svg\",\n    alt: \"action-icons\",\n    className: \"action-icon-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 27\n    }\n  }) : /*#__PURE__*/React.createElement(Image, {\n    src: window.location.origin + \"/assets/images/video-call/camera.svg\",\n    alt: \"action-icons\",\n    className: \"action-icon-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 27\n    }\n  }))), /*#__PURE__*/React.createElement(Media, {\n    as: \"li\",\n    className: \"call-animation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"btn-link\",\n    onClick: () => leaveCall(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: window.location.origin + \"/assets/images/video-call/end-call.svg\",\n    alt: \"action-icons\",\n    className: \"action-icon-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(Media, {\n    as: \"li\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"btn-link\",\n    onClick: () => muteAudio(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 23\n    }\n  }, mediaStatus.audio.muted ? /*#__PURE__*/React.createElement(Image, {\n    src: window.location.origin + \"/assets/images/video-call/mic-off.svg\",\n    alt: \"action-icons\",\n    className: \"action-icon-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 27\n    }\n  }) : /*#__PURE__*/React.createElement(Image, {\n    src: window.location.origin + \"/assets/images/video-call/mic.svg\",\n    className: \"action-icon-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 27\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"back-btn-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/video-calls-history\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: window.location.origin + \"/assets/images/video-call/back-icon.svg\",\n    alt: \"action-icons\",\n    className: \"back-btn-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 21\n    }\n  }))), props.singleVideoCall.data.video_call_request.is_model === 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"video-call-send-tip-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    className: \"video-call-send-tip-icon\",\n    src: window.location.origin + \"/assets/images/live-streaming/send-tip.svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    className: \"send-tip-btn\",\n    onClick: () => setShowTipModal(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 21\n    }\n  }, t(\"send_tips\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"video-call-card-right col-lg-3 col-md-4 p-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"video-call-chat-header-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"video-call-user-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    className: \"video-call-user-img\",\n    src: props.singleVideoCall.data.video_call_request.is_model === 1 ? props.singleVideoCall.data.video_call_request.user_picture : props.singleVideoCall.data.video_call_request.model_picture,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 19\n    }\n  }, props.singleVideoCall.data.video_call_request.is_model === 1 ? props.singleVideoCall.data.video_call_request.user_displayname : props.singleVideoCall.data.video_call_request.model_displayname))), props.singleVideoCall.data.video_call_request.is_user_needs_to_pay === 1 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"video-user-earned-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 19\n    }\n  }, t(\"you_earned\"), \"-\", \" \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 21\n    }\n  }, props.singleVideoCall.data.video_call_request.amount_formatted)))), !props.videoCallChatMessage.loading && /*#__PURE__*/React.createElement(NewVideoAudioCallChatIndex, {\n    handleChatSubmit: handleChatSubmit,\n    inputMessage: inputMessage,\n    setInputMessage: setInputMessage,\n    data: props.videoCallChatMessage.data,\n    video: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 437,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(MobileVideoAudioChatModal, {\n    mobileVideoAudioChat: mobileVideoAudioChat,\n    closeMobileVideoAudioChatModal: closeMobileVideoAudioChatModal,\n    setMobileVideoAudioChat: setMobileVideoAudioChat,\n    liveVideoDetails: props.singleVideoCall.data.video_call_request,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 7\n    }\n  }), showTipModal && /*#__PURE__*/React.createElement(SendTipPaymentModal, {\n    paymentsModal: showTipModal,\n    closepaymentsModal: closeTipModal,\n    user_id: props.singleVideoCall.data.video_call_request.model_id,\n    type: \"videocall\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 455,\n      columnNumber: 9\n    }\n  }));\n};\nconst mapStateToPros = state => ({\n  singleVideoCall: state.privateCall.singleVideoCall,\n  videoCallChatMessage: state.videocall.videoCallChatMessage\n});\nfunction mapDispatchToProps(dispatch) {\n  return {\n    dispatch\n  };\n}\nexport default connect(mapStateToPros, mapDispatchToProps)(translate(VideoCallIndex));","map":{"version":3,"names":["React","useState","useEffect","Modal","Container","Row","Col","Button","Form","Image","Media","InputGroup","FormControl","Link","NewVideoAudioCallChatIndex","MobileVideoAudioChatModal","AgoraRTC","useAgoraRTC","fetchSingleVideoCallStart","joinVideoCallStart","endVideoCallStart","connect","translate","t","configuration","AgoraMediaPlayer","SendTipPaymentModal","addVideoCallMessageContent","fetchVideoCallChatMessageStart","io","rtcclient","createClient","mode","codec","chatSocket","VideoCallIndex","props","localAudioTrack","localVideoTrack","leaveRtcChannel","join","joinState","remoteUsers","isStreamEnded","muteAudio","muteVideo","mediaStatus","mobileVideoAudioChat","setMobileVideoAudioChat","showTipModal","setShowTipModal","inputMessage","setInputMessage","initialHeight","setInitialHeight","closeMobileVideoAudioChatModal","closeTipModal","dispatch","video_call_request_unique_id","match","params","singleVideoCall","loading","handleJoin","video_call_request_id","data","video_call_request","get","virtual_id","agora_token","leaveCall","window","confirm","location","assign","chatSocketConnect","id","chatSocketUrl","query","emit","commonid","on","newData","content","push","handleChatSubmit","event","preventDefault","chatData","loggedin_user_id","localStorage","getItem","user_id","model_id","message","from_username","from_userpicture","video_call_unique_id","created","Date","scrollDownChat","videoCallChatMessage","parent","document","querySelector","objDiv","scrollTop","scrollHeight","createElement","Fragment","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","length","map","user","_video_muted_","src","is_model","user_picture","model_picture","alt","videoTrack","audioTrack","useClassname","video","muted","mirror","as","onClick","origin","audio","to","user_displayname","model_displayname","is_user_needs_to_pay","amount_formatted","liveVideoDetails","paymentsModal","closepaymentsModal","type","mapStateToPros","state","privateCall","videocall","mapDispatchToProps"],"sources":["/home/mts/FX-Project/src/components/VideoAudioCall/NewVideoCallIndex.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Modal,\n  Container,\n  Row,\n  Col,\n  Button,\n  Form,\n  Image,\n  Media,\n  InputGroup,\n  FormControl,\n} from \"react-bootstrap\";\nimport \"./VideoAudioCall.css\";\nimport { Link } from \"react-router-dom\";\nimport NewVideoAudioCallChatIndex from \"./NewVideoAudioCallChatIndex\";\nimport MobileVideoAudioChatModal from \"./MobileVideoAudioChatModal\";\nimport AgoraRTC from \"agora-rtc-sdk-ng\";\nimport useAgoraRTC from \"../../hooks/useAgoraRTC\";\nimport {\n  fetchSingleVideoCallStart,\n  joinVideoCallStart,\n  endVideoCallStart,\n} from \"../../store/actions/PrivateCallAction\";\nimport { connect } from \"react-redux\";\nimport { translate, t } from \"react-multi-lang\";\nimport configuration from \"react-global-configuration\";\nimport AgoraMediaPlayer from \"../helper/AgoraMediaPlayer\";\nimport SendTipPaymentModal from \"../Model/PaymentModal/SendTipPaymentModal\";\nimport {\n  addVideoCallMessageContent,\n  fetchVideoCallChatMessageStart,\n} from \"../../store/actions/VideoCallAction\";\nimport io from \"socket.io-client\";\n\nconst rtcclient = AgoraRTC.createClient({ mode: \"rtc\", codec: \"vp8\" });\nlet chatSocket;\nconst VideoCallIndex = (props) => {\n  const {\n    localAudioTrack,\n    localVideoTrack,\n    leaveRtcChannel,\n    join,\n    joinState,\n    remoteUsers,\n    isStreamEnded,\n    muteAudio,\n    muteVideo,\n    mediaStatus,\n  } = useAgoraRTC(rtcclient);\n\n  const [mobileVideoAudioChat, setMobileVideoAudioChat] = useState(false);\n  const [showTipModal, setShowTipModal] = useState(false);\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [initialHeight, setInitialHeight] = useState(0);\n\n  const closeMobileVideoAudioChatModal = () => {\n    setMobileVideoAudioChat(false);\n  };\n\n  const closeTipModal = () => {\n    setShowTipModal(false);\n  };\n\n  useEffect(() => {\n    props.dispatch(\n      fetchSingleVideoCallStart({\n        video_call_request_unique_id:\n          props.match.params.video_call_request_unique_id,\n      })\n    );\n  }, []);\n\n  useEffect(() => {\n    if (!props.singleVideoCall.loading) {\n      handleJoin();\n    }\n  }, [props.singleVideoCall.loading]);\n\n  useEffect(() => {\n    if (joinState) {\n      props.dispatch(\n        joinVideoCallStart({\n          video_call_request_id:\n            props.singleVideoCall.data.video_call_request.video_call_request_id,\n        })\n      );\n    }\n  }, [joinState]);\n\n  const handleJoin = () => {\n    join(\n      configuration.get(\"configData.agora_app_id\"),\n      props.singleVideoCall.data.video_call_request.virtual_id,\n      props.singleVideoCall.data.video_call_request.agora_token\n        ? props.singleVideoCall.data.video_call_request.agora_token\n        : null,\n      \"host\",\n      \"rtc\"\n    );\n  };\n\n  const leaveCall = () => {\n    if (window.confirm(t(\"are_you_sure_to_leave_call\"))) {\n      leaveRtcChannel();\n      props.dispatch(\n        endVideoCallStart({\n          video_call_request_id:\n            props.singleVideoCall.data.video_call_request.video_call_request_id,\n        })\n      );\n      window.location.assign(\"/video-calls-history\");\n    } else {\n    }\n  };\n\n  useEffect(() => {\n    if (isStreamEnded) {\n      props.dispatch(\n        endVideoCallStart({\n          video_call_request_id:\n            props.singleVideoCall.data.video_call_request.video_call_request_id,\n        })\n      );\n      window.location.assign(\"/video-calls-history\");\n    }\n  }, [isStreamEnded]);\n\n  useEffect(() => {\n    if (!props.singleVideoCall.loading) {\n      props.dispatch(\n        fetchVideoCallChatMessageStart({\n          video_call_request_id:\n            props.singleVideoCall.data.video_call_request.video_call_request_id,\n        })\n      );\n      chatSocketConnect(\n        props.singleVideoCall.data.video_call_request\n          .video_call_request_unique_id\n      );\n    }\n  }, [props.singleVideoCall.loading]);\n\n  const chatSocketConnect = (id) => {\n    // check the socket url is configured\n    let chatSocketUrl = configuration.get(\"configData.chat_socket_url\");\n    if (chatSocketUrl && id) {\n      chatSocket = io(chatSocketUrl, {\n        query: `room : video_call_` + id + ``,\n      });\n\n      chatSocket.emit(\"video call update sender\", {\n        commonid: `video_call_` + id + ``,\n      });\n\n      chatSocket.on(\"video call chat\", (newData) => {\n        let content = [];\n        content.push(newData);\n        props.dispatch(addVideoCallMessageContent(content));\n      });\n    }\n  };\n\n  const handleChatSubmit = (event) => {\n    event.preventDefault();\n\n    if (inputMessage) {\n      let chatData = [\n        {\n          loggedin_user_id: localStorage.getItem(\"userId\"),\n          user_id: localStorage.getItem(\"userId\"),\n          model_id: props.singleVideoCall.data.video_call_request.model_id,\n          video_call_request_id:\n            props.singleVideoCall.data.video_call_request.video_call_request_id,\n          message: inputMessage,\n          from_username: localStorage.getItem(\"username\"),\n          from_userpicture: localStorage.getItem(\"user_picture\"),\n          video_call_unique_id:\n            props.singleVideoCall.data.video_call_request\n              .video_call_request_unique_id,\n          created: new Date(),\n        },\n      ];\n      chatSocket.emit(\"video call chat\", chatData[0]);\n      props.dispatch(addVideoCallMessageContent(chatData));\n      setInputMessage(\"\");\n    }\n  };\n\n  useEffect(() => {\n    scrollDownChat();\n  }, [props.videoCallChatMessage.data]);\n\n  const scrollDownChat = () => {\n    const parent = document.querySelector(\"#chat-container\");\n    const objDiv = document.querySelector(\".video-call-chat-room\");\n    if (objDiv != null) {\n      parent.scrollTop = objDiv.scrollHeight;\n    }\n  };\n\n  if (props.singleVideoCall.loading) {\n    return null;\n  }\n\n  return (\n    <>\n      <div className=\"video-call-sec\">\n        {/* <div className=\"video-call-mobile-sec\">\n          <Link to=\"#\" onClick={() => setMobileVideoAudioChat(true)}>\n            <div className=\"live-streaming-comments-mobile-display\">\n              <Button className=\"view-comments-btn\">View Chat</Button>\n            </div>\n          </Link>\n        </div> */}\n        <div className=\"video-call-box justify-content-center row m-0\">\n          <div className=\"video-call-card-left col-lg-9 col-md-8 p-0\">\n            {joinState && (\n              <div className=\"video-call-card\">\n                {remoteUsers.length > 0 ? (\n                  remoteUsers.map((user) => (\n                    <div className=\"video-call-user-img-sec\">\n                      {user._video_muted_ ? (\n                        <Image\n                          src={\n                            props.singleVideoCall.data.video_call_request\n                              .is_model == 1\n                              ? props.singleVideoCall.data.video_call_request\n                                  .user_picture\n                              : props.singleVideoCall.data.video_call_request\n                                  .model_picture\n                          }\n                          alt=\"action-icons\"\n                          className=\"video-call-bg-img\"\n                        />\n                      ) : (\n                        <AgoraMediaPlayer\n                          videoTrack={user.videoTrack}\n                          audioTrack={user.audioTrack}\n                          useClassname={\"video-call-bg-img\"}\n                        ></AgoraMediaPlayer>\n                      )}\n                    </div>\n                  ))\n                ) : (\n                  <div className=\"video-call-user-img-sec\">\n                    <Image\n                      src={\n                        props.singleVideoCall.data.video_call_request\n                          .is_model == 1\n                          ? props.singleVideoCall.data.video_call_request\n                              .user_picture\n                          : props.singleVideoCall.data.video_call_request\n                              .model_picture\n                      }\n                      alt=\"action-icons\"\n                      className=\"video-call-bg-img\"\n                    />\n                  </div>\n                )}\n\n                <div className=\"video-call-user-img-sec\">\n                  {mediaStatus.video.muted ? (\n                    <Image\n                      src={\n                        props.singleVideoCall.data.video_call_request\n                          .is_model === 1\n                          ? props.singleVideoCall.data.video_call_request\n                              .model_picture\n                          : props.singleVideoCall.data.video_call_request\n                              .user_picture\n                      }\n                      alt=\"action-icons\"\n                      className=\"video-call-user-img\"\n                    />\n                  ) : (\n                    <AgoraMediaPlayer\n                      videoTrack={localVideoTrack}\n                      useClassname={\"video-call-user-img\"}\n                      mirror\n                    ></AgoraMediaPlayer>\n                  )}\n                </div>\n                <div className=\"video-call-action-btn-sec\">\n                  <ul className=\"list-unstyled video-call-action-btn\">\n                    <Media as=\"li\">\n                      <Button className=\"btn-link\" onClick={() => muteVideo()}>\n                        {mediaStatus.video.muted ? (\n                          <Image\n                            src={\n                              window.location.origin +\n                              \"/assets/images/video-call/camera-off.svg\"\n                            }\n                            alt=\"action-icons\"\n                            className=\"action-icon-img\"\n                          />\n                        ) : (\n                          <Image\n                            src={\n                              window.location.origin +\n                              \"/assets/images/video-call/camera.svg\"\n                            }\n                            alt=\"action-icons\"\n                            className=\"action-icon-img\"\n                          />\n                        )}\n                      </Button>\n                    </Media>\n                    <Media as=\"li\" className=\"call-animation\">\n                      <Button className=\"btn-link\" onClick={() => leaveCall()}>\n                        <Image\n                          src={\n                            window.location.origin +\n                            \"/assets/images/video-call/end-call.svg\"\n                          }\n                          alt=\"action-icons\"\n                          className=\"action-icon-img\"\n                        />\n                      </Button>\n                    </Media>\n                    <Media as=\"li\">\n                      <Button className=\"btn-link\" onClick={() => muteAudio()}>\n                        {mediaStatus.audio.muted ? (\n                          <Image\n                            src={\n                              window.location.origin +\n                              \"/assets/images/video-call/mic-off.svg\"\n                            }\n                            alt=\"action-icons\"\n                            className=\"action-icon-img\"\n                          />\n                        ) : (\n                          <Image\n                            src={\n                              window.location.origin +\n                              \"/assets/images/video-call/mic.svg\"\n                            }\n                            className=\"action-icon-img\"\n                          />\n                        )}\n                      </Button>\n                    </Media>\n                  </ul>\n                </div>\n                <div className=\"back-btn-sec\">\n                  <Link to=\"/video-calls-history\">\n                    <Image\n                      src={\n                        window.location.origin +\n                        \"/assets/images/video-call/back-icon.svg\"\n                      }\n                      alt=\"action-icons\"\n                      className=\"back-btn-img\"\n                    />\n                  </Link>\n                </div>\n                {props.singleVideoCall.data.video_call_request.is_model ===\n                  0 && (\n                  <div className=\"video-call-send-tip-sec\">\n                    <Image\n                      className=\"video-call-send-tip-icon\"\n                      src={\n                        window.location.origin +\n                        \"/assets/images/live-streaming/send-tip.svg\"\n                      }\n                    />\n                    <Button\n                      className=\"send-tip-btn\"\n                      onClick={() => setShowTipModal(true)}\n                    >\n                      {t(\"send_tips\")}\n                    </Button>\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n          <div className=\"video-call-card-right col-lg-3 col-md-4 p-0\">\n            <div className=\"video-call-chat-header-sec\">\n              <div className=\"video-call-user-info\">\n                <Image\n                  className=\"video-call-user-img\"\n                  src={\n                    props.singleVideoCall.data.video_call_request.is_model === 1\n                      ? props.singleVideoCall.data.video_call_request\n                          .user_picture\n                      : props.singleVideoCall.data.video_call_request\n                          .model_picture\n                  }\n                />\n                <div>\n                  <h4>\n                    {props.singleVideoCall.data.video_call_request.is_model ===\n                    1\n                      ? props.singleVideoCall.data.video_call_request\n                          .user_displayname\n                      : props.singleVideoCall.data.video_call_request\n                          .model_displayname}\n                    {/* <span>\n                      <Image\n                        className=\"sidebar-verified-icon\"\n                        src={\n                          window.location.origin +\n                          \"/assets/images/new-home/verified-icon.png\"\n                        }\n                      />\n                    </span> */}\n                  </h4>\n                  {/* <div className=\"video-user-follow-count\">\n                    <Image\n                      className=\"user-follow-count\"\n                      src={\n                        window.location.origin +\n                        \"/assets/images/video-call/users.svg\"\n                      }\n                    />\n                    <span>200K</span>\n                  </div> */}\n                </div>\n              </div>\n              {props.singleVideoCall.data.video_call_request\n                .is_user_needs_to_pay === 1 && (\n                <div className=\"video-user-earned-sec\">\n                  <h4>\n                    {t(\"you_earned\")}-{\" \"}\n                    <span className=\"text-primary\">\n                      {\n                        props.singleVideoCall.data.video_call_request\n                          .amount_formatted\n                      }\n                    </span>\n                  </h4>\n                </div>\n              )}\n            </div>\n            {!props.videoCallChatMessage.loading && (\n              <NewVideoAudioCallChatIndex\n                handleChatSubmit={handleChatSubmit}\n                inputMessage={inputMessage}\n                setInputMessage={setInputMessage}\n                data={props.videoCallChatMessage.data}\n                video\n              />\n            )}\n          </div>\n        </div>\n      </div>\n      <MobileVideoAudioChatModal\n        mobileVideoAudioChat={mobileVideoAudioChat}\n        closeMobileVideoAudioChatModal={closeMobileVideoAudioChatModal}\n        setMobileVideoAudioChat={setMobileVideoAudioChat}\n        liveVideoDetails={props.singleVideoCall.data.video_call_request}\n      />\n      {showTipModal && (\n        <SendTipPaymentModal\n          paymentsModal={showTipModal}\n          closepaymentsModal={closeTipModal}\n          user_id={props.singleVideoCall.data.video_call_request.model_id}\n          type=\"videocall\"\n        />\n      )}\n    </>\n  );\n};\n\nconst mapStateToPros = (state) => ({\n  singleVideoCall: state.privateCall.singleVideoCall,\n  videoCallChatMessage: state.videocall.videoCallChatMessage,\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return { dispatch };\n}\n\nexport default connect(\n  mapStateToPros,\n  mapDispatchToProps\n)(translate(VideoCallIndex));\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}