{"ast":null,"code":"var _jsxFileName = \"/home/mts/Vishal/src/components/Chat/NewChatIndex.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal, Container, Row, Col, Button, Form, Image } from \"react-bootstrap\";\nimport \"./NewChat.css\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport NewChatList from \"./NewChatList\";\nimport NewChatRoom from \"./NewChatRoom\";\nimport NewChatUserInfo from \"./NewChatUserInfo\";\nimport { connect } from \"react-redux\";\nimport { changeChatAudio, chatUser } from \"../../store/actions/ChatAction\";\nimport useWindowDimensions from \"../helper/WindowHelper\";\nimport { translate, t } from \"react-multi-lang\";\nconst NewChatIndex = props => {\n  const history = useHistory();\n  const [showContent, setShowContent] = useState(true);\n  const [skipRender, setSkipRender] = useState(true);\n  const [selectedUser, setSelectedUser] = useState();\n  const {\n    height,\n    width\n  } = useWindowDimensions();\n  useEffect(() => {\n    if (props.chatUser) {\n      props.dispatch(changeChatAudio({\n        src: \"\"\n      }));\n      setTimeout(() => {\n        setSelectedUser(props.chatUser);\n        if (!skipRender && width < 768) {\n          history.push(\"/chat-room\");\n        }\n      }, 100);\n    }\n    setSkipRender(false);\n  }, [props.chatUser]);\n\n  // useEffect(() => {\n  //   if (selectedUser) {\n  //     props.dispatch(chatUser(selectedUser));\n  //   }\n  // }, [selectedUser]);\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"new-chat-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, showContent ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"new-chat-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(NewChatList, {\n    setShowContent: setShowContent,\n    setSelectedUser: setSelectedUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }), selectedUser ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"new-chat-room-sec mobile-hide\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(NewChatRoom, {\n    selectedUser: selectedUser,\n    setShowContent: setShowContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"new-chat-user-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(NewChatUserInfo, {\n    selectedUser: selectedUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 19\n    }\n  }))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"new-chat-room-sec start-conversation-container mobile-hide\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    className: \"start-conversation\",\n    src: window.location.origin + \"/assets/images/new-chat/start-new-conversation.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-something-went-wrong\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: window.location.origin + \"/assets/images/new-chat/something-went-wrong.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn gradient-btn gradientcolor btn btn-primary retry-btn\",\n    onClick: () => {\n      setSelectedUser(null);\n      setShowContent(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, t(\"retry\")), /*#__PURE__*/React.createElement(Link, {\n    to: \"/home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, \"home\"))));\n};\nconst mapStateToPros = state => ({\n  chatUser: state.chat.chatUser\n});\nfunction mapDispatchToProps(dispatch) {\n  return {\n    dispatch\n  };\n}\nexport default connect(mapStateToPros, mapDispatchToProps)(translate(NewChatIndex));","map":{"version":3,"names":["React","useEffect","useState","Modal","Container","Row","Col","Button","Form","Image","Link","useHistory","NewChatList","NewChatRoom","NewChatUserInfo","connect","changeChatAudio","chatUser","useWindowDimensions","translate","t","NewChatIndex","props","history","showContent","setShowContent","skipRender","setSkipRender","selectedUser","setSelectedUser","height","width","dispatch","src","setTimeout","push","createElement","Fragment","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","window","location","origin","onClick","to","mapStateToPros","state","chat","mapDispatchToProps"],"sources":["/home/mts/Vishal/src/components/Chat/NewChatIndex.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Modal, Container, Row, Col, Button, Form, Image } from \"react-bootstrap\";\nimport \"./NewChat.css\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport NewChatList from \"./NewChatList\";\nimport NewChatRoom from \"./NewChatRoom\";\nimport NewChatUserInfo from \"./NewChatUserInfo\";\nimport { connect } from \"react-redux\";\nimport { changeChatAudio, chatUser } from \"../../store/actions/ChatAction\";\nimport useWindowDimensions from \"../helper/WindowHelper\";\nimport { translate, t } from \"react-multi-lang\";\n\nconst NewChatIndex = (props) => {\n  const history = useHistory();\n\n  const [showContent, setShowContent] = useState(true);\n  const [skipRender, setSkipRender] = useState(true);\n  const [selectedUser, setSelectedUser] = useState();\n  const { height, width } = useWindowDimensions();\n\n  useEffect(() => {\n    if (props.chatUser) {\n      props.dispatch(changeChatAudio({ src: \"\" }));\n      setTimeout(() => {\n        setSelectedUser(props.chatUser);\n        if (!skipRender && width < 768) {\n          history.push(\"/chat-room\");\n        }\n      }, 100);\n    }\n    setSkipRender(false);\n  }, [props.chatUser]);\n\n  // useEffect(() => {\n  //   if (selectedUser) {\n  //     props.dispatch(chatUser(selectedUser));\n  //   }\n  // }, [selectedUser]);\n\n  return (\n    <>\n      <div className=\"new-chat-sec\">\n        {showContent\n          ? <div className=\"new-chat-box\">\n            <NewChatList\n              setShowContent={setShowContent}\n              setSelectedUser={setSelectedUser}\n            />\n            {selectedUser ?\n              <>\n                <div className=\"new-chat-room-sec mobile-hide\">\n                  <NewChatRoom selectedUser={selectedUser} setShowContent={setShowContent} />\n                </div>\n                <div className=\"new-chat-user-info\">\n                  <NewChatUserInfo selectedUser={selectedUser} />\n                </div>\n              </>\n              : <div className=\"new-chat-room-sec start-conversation-container mobile-hide\">\n                <Image\n                  className=\"start-conversation\"\n                  src={window.location.origin + \"/assets/images/new-chat/start-new-conversation.png\"}\n                />\n              </div>\n            }\n          </div>\n          : <div className=\"chat-something-went-wrong\">\n            <Image\n              src={window.location.origin + \"/assets/images/new-chat/something-went-wrong.png\"}\n            />\n            <button\n              className=\"btn gradient-btn gradientcolor btn btn-primary retry-btn\"\n              onClick={() => {\n                setSelectedUser(null);\n                setShowContent(true)\n              }}\n            >{t(\"retry\")}</button>\n            <Link to=\"/home\">{(\"home\")}</Link>\n          </div>\n        }\n      </div>\n    </>\n  );\n};\n\nconst mapStateToPros = (state) => ({\n  chatUser: state.chat.chatUser,\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return { dispatch };\n}\n\nexport default connect(\n  mapStateToPros,\n  mapDispatchToProps\n)(translate(NewChatIndex));\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}