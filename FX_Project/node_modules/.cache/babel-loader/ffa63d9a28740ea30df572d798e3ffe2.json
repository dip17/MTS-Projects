{"ast":null,"code":"var _jsxFileName = \"/home/mts/Vishal/src/components/LiveStreaming/LiveStreamingComments.jsx\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { Image, InputGroup, FormControl, Button } from \"react-bootstrap\";\nimport \"./LiveStreaming.css\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { translate, t } from \"react-multi-lang\";\nimport { addLiveVideoMessageContent, fetchLiveAudienceListSuccess, fetchLiveVideoChatMessagesStart, updateLiveAudianceCount, updateLiveAudianceEarnings, updateLiveAudianceList } from \"../../store/actions/LiveVideoAction\";\nimport configuration from \"react-global-configuration\";\nimport io from \"socket.io-client\";\nimport NoDataFound from \"../NoDataFound/NoDataFound\";\nimport { Picker } from \"emoji-mart3\";\nimport { useCallback } from \"react\";\nimport LiveStreamCommentsLoader from \"../Loader/LiveStreamCommentsLoader\";\nimport { getErrorNotificationMessage } from \"../helper/NotificationMessage\";\nimport { createNotification } from \"react-redux-notify\";\nlet chatSocket;\nconst LiveStreamingComments = props => {\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [emojiPickerState, SetEmojiPicker] = useState(false);\n  const [liveStreamState, setLiveStreamState] = useState({\n    update: false,\n    data: null\n  });\n  const chatInputRef = useRef();\n  const handleEmojiSelect = emoji => {\n    SetEmojiPicker(false);\n    setInputMessage(inputMessage + emoji.native);\n    chatInputRef.current.focus();\n  };\n  function triggerPicker(event) {\n    event.preventDefault();\n    SetEmojiPicker(!emojiPickerState);\n  }\n  useEffect(() => {\n    props.dispatch(fetchLiveVideoChatMessagesStart({\n      live_video_id: props.liveVideoId\n    }));\n    chatSocketConnect(props.liveVideoDetails.live_video_unique_id);\n  }, []);\n  window.onbeforeunload = function (e) {\n    if (!props.isOwner) {\n      chatSocket.emit(\"livestream-exit\", {\n        viewer_id: localStorage.getItem(\"userId\"),\n        user_id: localStorage.getItem(\"userId\"),\n        live_video_id: props.liveVideoId,\n        live_user_id: props.liveVideoDetails.user_id,\n        eventType: \"exit\"\n      });\n    }\n  };\n  const chatSocketConnect = useCallback(live_video_unique_id => {\n    // check the socket url is configured\n    let chatSocketUrl = configuration.get(\"configData.chat_socket_url\");\n    if (chatSocketUrl && live_video_unique_id) {\n      chatSocket = io(chatSocketUrl, {\n        query: `room: 'livestream_` + live_video_unique_id + `'`\n      });\n      chatSocket.emit(\"livestream-updates\", {\n        room: live_video_unique_id\n      });\n      chatSocket.on(\"livestream-broadcast-message\", newData => {\n        let content = [];\n        content.push(newData);\n        props.dispatch(addLiveVideoMessageContent(content));\n      });\n      chatSocket.on(\"livestream-join\", data => {\n        console.log(\"Join Data\", data);\n        let newViewerHtml = \"<li id='livestream-viewer-'\" + data.sender_username + \"'>\";\n        newViewerHtml += \"<a href=''>\";\n        newViewerHtml += \"<img className='live-streaming-user-list-img'src=\" + data.sender_picture + \"/>\";\n        newViewerHtml += \"<p>\" + data.sender_name + \"</p></a>\";\n        newViewerHtml += \"</li>\";\n\n        // const div = document.querySelector(\"#livestream-viewers-ul\");\n        // const buttonElement = React.createElement(\"div\", {\n        //   dangerouslySetInnerHTML: { __html: newViewerHtml },\n        // });\n\n        // document\n        //   .getElementById(\"livestream-viewers-ul\")\n        //   .append(newViewerHtml);\n\n        // let content = [];\n        // content.push(newData);\n        // props.dispatch(addLiveVideoMessageContent(content));\n      });\n      chatSocket.on(\"livestream-updates\", data => {\n        if (Object.keys(data).length > 0) {\n          setLiveStreamState(prev => {\n            return {\n              ...prev,\n              update: true,\n              data: data\n            };\n          });\n        }\n      });\n      if (!props.isOwner) {\n        console.log(\"viewer joined\");\n        const emitUser = {\n          viewer_id: localStorage.getItem(\"userId\"),\n          live_video_id: props.liveVideoId,\n          live_user_id: props.liveVideoDetails.user_id,\n          sender_name: localStorage.getItem(\"name\"),\n          sender_username: localStorage.getItem(\"username\"),\n          sender_picture: localStorage.getItem(\"user_picture\"),\n          eventType: \"join\",\n          user_id: localStorage.getItem(\"userId\"),\n          user_unique_id: localStorage.getItem(\"user_unique_id\")\n        };\n        chatSocket.emit(\"livestream-join\", {\n          ...emitUser\n        });\n\n        //if want to show own user in the list uncomment\n\n        // setLiveStreamState((prev) => {\n        //   return {\n        //     ...prev,\n        //     update: true,\n        //     data: emitUser,\n        //   };\n        // });\n      }\n    }\n  }, []);\n  const handleChatSubmit = event => {\n    event.preventDefault();\n    if (inputMessage) {\n      let chatData = [{\n        live_video_id: props.liveVideoId,\n        user_id: localStorage.getItem(\"userId\"),\n        message: inputMessage,\n        sender_name: localStorage.getItem(\"name\"),\n        sender_username: localStorage.getItem(\"username\"),\n        sender_picture: localStorage.getItem(\"user_picture\")\n      }];\n      chatSocket.emit(\"livestream-broadcast-message\", chatData[0]);\n      props.dispatch(addLiveVideoMessageContent(chatData));\n      setInputMessage(\"\");\n    }\n  };\n  useEffect(() => {\n    scrollDownChat();\n  }, [props.liveVideoChatMessages.data]);\n  useEffect(() => {\n    if (liveStreamState.update && !props.liveAudienceList.loading) {\n      console.log(\"update received\", props.liveAudienceList, liveStreamState.data);\n      const isUserExist = props.liveAudienceList.viewers.map(viewer => Number(viewer.user_id)).includes(Number(liveStreamState.data.user_id));\n      if (liveStreamState.data.eventType === \"exit\") {\n        console.log(\"user left\");\n        const removedUser = props.liveAudienceList.viewers.filter(viewer => Number(viewer.user_id) != Number(liveStreamState.data.user_id));\n        console.log(removedUser);\n        props.dispatch(updateLiveAudianceList(removedUser));\n        if (liveStreamState.data.viewer_cnt) {\n          props.dispatch(updateLiveAudianceCount(liveStreamState.data.viewer_cnt));\n        }\n      } else if (liveStreamState.data.eventType === \"join\") {\n        if (!isUserExist) {\n          props.dispatch(updateLiveAudianceList([...props.liveAudienceList.viewers, liveStreamState.data]));\n        }\n        if (liveStreamState.data.viewer_cnt) {\n          props.dispatch(updateLiveAudianceCount(liveStreamState.data.viewer_cnt));\n        }\n        if (liveStreamState.data.total_earnings_formatted) {\n          props.dispatch(updateLiveAudianceEarnings({\n            total_earnings: liveStreamState.data.total_earnings,\n            total_earnings_formatted: liveStreamState.data.total_earnings_formatted\n          }));\n        }\n      } else {\n        const notificationMessage = getErrorNotificationMessage(t(\"live_stream_ended\"));\n        props.dispatch(createNotification(notificationMessage));\n        setTimeout(() => {\n          window.location.assign(window.location.origin + \"/live-videos\");\n        }, 1000);\n      }\n      setLiveStreamState(prev => {\n        return {\n          ...prev,\n          update: false,\n          data: null\n        };\n      });\n    }\n  }, [liveStreamState.update, props.liveAudienceList.loading]);\n  useEffect(() => {\n    if (!props.liveEnd.loading && Number(props.liveEnd.data.live_video_id) === Number(props.liveVideoId) && props.isOwner) {\n      chatSocket.emit(\"livestream-exit\", {\n        viewer_id: localStorage.getItem(\"userId\"),\n        user_id: localStorage.getItem(\"userId\"),\n        live_video_id: props.liveVideoId,\n        live_user_id: props.liveVideoDetails.user_id,\n        eventType: \"end\"\n      });\n    }\n  }, [props.liveEnd.data]);\n  const scrollDownChat = () => {\n    const parent = document.querySelector(\"#live-chat-container\");\n    const objDiv = document.querySelector(\".live-video-call-chat-room\");\n    if (objDiv != null) {\n      parent.scrollTop = objDiv.scrollHeight;\n    }\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"live-streaming-user-comments-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 7\n    }\n  }, props.liveVideoChatMessages.loading ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"live-streaming-user-comments-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(LiveStreamCommentsLoader, {\n    count: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 13\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"live-streaming-user-comments-box\",\n    id: \"live-chat-container\",\n    style: {\n      maxHeight: \"calc(100vh - 260px)\",\n      overflowY: \"auto\",\n      overflowX: \"hidden\",\n      paddingRight: \"1em\"\n      //   marginTop: '1em'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"live-video-call-chat-room\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 13\n    }\n  }, props.liveVideoChatMessages.data.length > 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, props.liveVideoChatMessages.data.map(message => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"live-streaming-user-comments-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"live-streaming-user-comments-img-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    className: \"live-streaming-user-comments-img\",\n    src: message.sender_picture ? message.sender_picture : message.from_userpicture,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 27\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"live-streaming-user-comments-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 27\n    }\n  }, message.sender_username ? message.sender_username : message.from_displayname), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 27\n    }\n  }, message.message)))))) : /*#__PURE__*/React.createElement(NoDataFound, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"live-streaming-user-add-comments-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleChatSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup, {\n    className: \"mb-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup.Prepend, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup.Text, {\n    id: \"basic-addon1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    className: \"live-streaming-user-add-comments-icon\",\n    src: window.location.origin + \"/assets/images/live-streaming/ad-comments-icon.svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(FormControl, {\n    placeholder: t(\"type_your_comment_here\"),\n    \"aria-describedby\": \"basic-addon1\",\n    value: inputMessage,\n    onChange: event => setInputMessage(event.target.value),\n    ref: chatInputRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(InputGroup.Append, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"light\",\n    className: \"icon-btn\",\n    onClick: triggerPicker,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    className: \"live-streaming-user-add-comments-icon\",\n    src: window.location.origin + \"/assets/images/video-call/smiley.svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 21\n    }\n  })))), emojiPickerState && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"emojiWrapper chat-emoji\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Picker, {\n    title: \"\",\n    emoji: \"point_up\",\n    onSelect: emoji => handleEmojiSelect(emoji),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 19\n    }\n  })))))));\n};\nconst mapStateToPros = state => ({\n  liveVideoChatMessages: state.liveVideo.liveVideoChatMessages,\n  liveEnd: state.liveVideo.liveEnd\n});\nfunction mapDispatchToProps(dispatch) {\n  return {\n    dispatch\n  };\n}\nexport default connect(mapStateToPros, mapDispatchToProps)(translate(LiveStreamingComments));","map":{"version":3,"names":["React","useState","useEffect","useRef","Image","InputGroup","FormControl","Button","Link","connect","translate","t","addLiveVideoMessageContent","fetchLiveAudienceListSuccess","fetchLiveVideoChatMessagesStart","updateLiveAudianceCount","updateLiveAudianceEarnings","updateLiveAudianceList","configuration","io","NoDataFound","Picker","useCallback","LiveStreamCommentsLoader","getErrorNotificationMessage","createNotification","chatSocket","LiveStreamingComments","props","inputMessage","setInputMessage","emojiPickerState","SetEmojiPicker","liveStreamState","setLiveStreamState","update","data","chatInputRef","handleEmojiSelect","emoji","native","current","focus","triggerPicker","event","preventDefault","dispatch","live_video_id","liveVideoId","chatSocketConnect","liveVideoDetails","live_video_unique_id","window","onbeforeunload","e","isOwner","emit","viewer_id","localStorage","getItem","user_id","live_user_id","eventType","chatSocketUrl","get","query","room","on","newData","content","push","console","log","newViewerHtml","sender_username","sender_picture","sender_name","Object","keys","length","prev","emitUser","user_unique_id","handleChatSubmit","chatData","message","scrollDownChat","liveVideoChatMessages","liveAudienceList","loading","isUserExist","viewers","map","viewer","Number","includes","removedUser","filter","viewer_cnt","total_earnings_formatted","total_earnings","notificationMessage","setTimeout","location","assign","origin","liveEnd","parent","document","querySelector","objDiv","scrollTop","scrollHeight","createElement","Fragment","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","count","id","style","maxHeight","overflowY","overflowX","paddingRight","src","from_userpicture","from_displayname","onSubmit","Prepend","Text","placeholder","value","onChange","target","ref","Append","variant","onClick","title","onSelect","mapStateToPros","state","liveVideo","mapDispatchToProps"],"sources":["/home/mts/Vishal/src/components/LiveStreaming/LiveStreamingComments.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport { Image, InputGroup, FormControl, Button } from \"react-bootstrap\";\nimport \"./LiveStreaming.css\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { translate, t } from \"react-multi-lang\";\nimport {\n  addLiveVideoMessageContent,\n  fetchLiveAudienceListSuccess,\n  fetchLiveVideoChatMessagesStart,\n  updateLiveAudianceCount,\n  updateLiveAudianceEarnings,\n  updateLiveAudianceList,\n} from \"../../store/actions/LiveVideoAction\";\nimport configuration from \"react-global-configuration\";\nimport io from \"socket.io-client\";\nimport NoDataFound from \"../NoDataFound/NoDataFound\";\nimport { Picker } from \"emoji-mart3\";\nimport { useCallback } from \"react\";\nimport LiveStreamCommentsLoader from \"../Loader/LiveStreamCommentsLoader\";\nimport { getErrorNotificationMessage } from \"../helper/NotificationMessage\";\nimport { createNotification } from \"react-redux-notify\";\n\nlet chatSocket;\n\nconst LiveStreamingComments = (props) => {\n  const [inputMessage, setInputMessage] = useState(\"\");\n\n  const [emojiPickerState, SetEmojiPicker] = useState(false);\n\n  const [liveStreamState, setLiveStreamState] = useState({\n    update: false,\n    data: null,\n  });\n\n  const chatInputRef = useRef();\n\n  const handleEmojiSelect = (emoji) => {\n    SetEmojiPicker(false);\n    setInputMessage(inputMessage + emoji.native);\n    chatInputRef.current.focus();\n  };\n\n  function triggerPicker(event) {\n    event.preventDefault();\n    SetEmojiPicker(!emojiPickerState);\n  }\n\n  useEffect(() => {\n    props.dispatch(\n      fetchLiveVideoChatMessagesStart({\n        live_video_id: props.liveVideoId,\n      })\n    );\n    chatSocketConnect(props.liveVideoDetails.live_video_unique_id);\n  }, []);\n\n  window.onbeforeunload = function (e) {\n    if (!props.isOwner) {\n      chatSocket.emit(\"livestream-exit\", {\n        viewer_id: localStorage.getItem(\"userId\"),\n        user_id: localStorage.getItem(\"userId\"),\n        live_video_id: props.liveVideoId,\n        live_user_id: props.liveVideoDetails.user_id,\n        eventType: \"exit\",\n      });\n    }\n  };\n\n  const chatSocketConnect = useCallback((live_video_unique_id) => {\n    // check the socket url is configured\n    let chatSocketUrl = configuration.get(\"configData.chat_socket_url\");\n    if (chatSocketUrl && live_video_unique_id) {\n      chatSocket = io(chatSocketUrl, {\n        query: `room: 'livestream_` + live_video_unique_id + `'`,\n      });\n\n      chatSocket.emit(\"livestream-updates\", {\n        room: live_video_unique_id,\n      });\n\n      chatSocket.on(\"livestream-broadcast-message\", (newData) => {\n        let content = [];\n        content.push(newData);\n        props.dispatch(addLiveVideoMessageContent(content));\n      });\n\n      chatSocket.on(\"livestream-join\", (data) => {\n        console.log(\"Join Data\", data);\n        let newViewerHtml =\n          \"<li id='livestream-viewer-'\" + data.sender_username + \"'>\";\n        newViewerHtml += \"<a href=''>\";\n        newViewerHtml +=\n          \"<img className='live-streaming-user-list-img'src=\" +\n          data.sender_picture +\n          \"/>\";\n        newViewerHtml += \"<p>\" + data.sender_name + \"</p></a>\";\n        newViewerHtml += \"</li>\";\n\n        // const div = document.querySelector(\"#livestream-viewers-ul\");\n        // const buttonElement = React.createElement(\"div\", {\n        //   dangerouslySetInnerHTML: { __html: newViewerHtml },\n        // });\n\n        // document\n        //   .getElementById(\"livestream-viewers-ul\")\n        //   .append(newViewerHtml);\n\n        // let content = [];\n        // content.push(newData);\n        // props.dispatch(addLiveVideoMessageContent(content));\n      });\n\n      chatSocket.on(\"livestream-updates\", (data) => {\n        if (Object.keys(data).length > 0) {\n          setLiveStreamState((prev) => {\n            return {\n              ...prev,\n              update: true,\n              data: data,\n            };\n          });\n        }\n      });\n\n      if (!props.isOwner) {\n        console.log(\"viewer joined\");\n        const emitUser = {\n          viewer_id: localStorage.getItem(\"userId\"),\n          live_video_id: props.liveVideoId,\n          live_user_id: props.liveVideoDetails.user_id,\n          sender_name: localStorage.getItem(\"name\"),\n          sender_username: localStorage.getItem(\"username\"),\n          sender_picture: localStorage.getItem(\"user_picture\"),\n          eventType: \"join\",\n          user_id: localStorage.getItem(\"userId\"),\n          user_unique_id: localStorage.getItem(\"user_unique_id\"),\n        };\n\n        chatSocket.emit(\"livestream-join\", {\n          ...emitUser,\n        });\n\n        //if want to show own user in the list uncomment\n\n        // setLiveStreamState((prev) => {\n        //   return {\n        //     ...prev,\n        //     update: true,\n        //     data: emitUser,\n        //   };\n        // });\n      }\n    }\n  }, []);\n\n  const handleChatSubmit = (event) => {\n    event.preventDefault();\n\n    if (inputMessage) {\n      let chatData = [\n        {\n          live_video_id: props.liveVideoId,\n          user_id: localStorage.getItem(\"userId\"),\n          message: inputMessage,\n          sender_name: localStorage.getItem(\"name\"),\n          sender_username: localStorage.getItem(\"username\"),\n          sender_picture: localStorage.getItem(\"user_picture\"),\n        },\n      ];\n      chatSocket.emit(\"livestream-broadcast-message\", chatData[0]);\n      props.dispatch(addLiveVideoMessageContent(chatData));\n      setInputMessage(\"\");\n    }\n  };\n\n  useEffect(() => {\n    scrollDownChat();\n  }, [props.liveVideoChatMessages.data]);\n\n  useEffect(() => {\n    if (liveStreamState.update && !props.liveAudienceList.loading) {\n      console.log(\n        \"update received\",\n        props.liveAudienceList,\n        liveStreamState.data\n      );\n\n      const isUserExist = props.liveAudienceList.viewers\n        .map((viewer) => Number(viewer.user_id))\n        .includes(Number(liveStreamState.data.user_id));\n\n      if (liveStreamState.data.eventType === \"exit\") {\n        console.log(\"user left\");\n        const removedUser = props.liveAudienceList.viewers.filter(\n          (viewer) =>\n            Number(viewer.user_id) != Number(liveStreamState.data.user_id)\n        );\n        console.log(removedUser);\n        props.dispatch(updateLiveAudianceList(removedUser));\n        if (liveStreamState.data.viewer_cnt) {\n          props.dispatch(\n            updateLiveAudianceCount(liveStreamState.data.viewer_cnt)\n          );\n        }\n      } else if (liveStreamState.data.eventType === \"join\") {\n        if (!isUserExist) {\n          props.dispatch(\n            updateLiveAudianceList([\n              ...props.liveAudienceList.viewers,\n              liveStreamState.data,\n            ])\n          );\n        }\n\n        if (liveStreamState.data.viewer_cnt) {\n          props.dispatch(\n            updateLiveAudianceCount(liveStreamState.data.viewer_cnt)\n          );\n        }\n\n        if (liveStreamState.data.total_earnings_formatted) {\n          props.dispatch(\n            updateLiveAudianceEarnings({\n              total_earnings: liveStreamState.data.total_earnings,\n              total_earnings_formatted:\n                liveStreamState.data.total_earnings_formatted,\n            })\n          );\n        }\n      } else {\n        const notificationMessage =\n          getErrorNotificationMessage(t(\"live_stream_ended\"));\n\n        props.dispatch(createNotification(notificationMessage));\n\n        setTimeout(() => {\n          window.location.assign(window.location.origin + \"/live-videos\");\n        }, 1000);\n      }\n\n      setLiveStreamState((prev) => {\n        return {\n          ...prev,\n          update: false,\n          data: null,\n        };\n      });\n    }\n  }, [liveStreamState.update, props.liveAudienceList.loading]);\n\n  useEffect(() => {\n    if (\n      !props.liveEnd.loading &&\n      Number(props.liveEnd.data.live_video_id) === Number(props.liveVideoId) &&\n      props.isOwner\n    ) {\n      chatSocket.emit(\"livestream-exit\", {\n        viewer_id: localStorage.getItem(\"userId\"),\n        user_id: localStorage.getItem(\"userId\"),\n        live_video_id: props.liveVideoId,\n        live_user_id: props.liveVideoDetails.user_id,\n        eventType: \"end\",\n      });\n    }\n  }, [props.liveEnd.data]);\n\n  const scrollDownChat = () => {\n    const parent = document.querySelector(\"#live-chat-container\");\n    const objDiv = document.querySelector(\".live-video-call-chat-room\");\n    if (objDiv != null) {\n      parent.scrollTop = objDiv.scrollHeight;\n    }\n  };\n\n  return (\n    <>\n      <div className=\"live-streaming-user-comments-sec\">\n        {/* <div className=\"live-streaming-user-comments-header-sec\">\n          <h4>Comments</h4>\n        </div> */}\n        {props.liveVideoChatMessages.loading ? (\n          <div className=\"live-streaming-user-comments-box\">\n            <LiveStreamCommentsLoader count={4} />\n          </div>\n        ) : (\n          <div\n            className=\"live-streaming-user-comments-box\"\n            id=\"live-chat-container\"\n            style={{\n              maxHeight: \"calc(100vh - 260px)\",\n              overflowY: \"auto\",\n              overflowX: \"hidden\",\n              paddingRight: \"1em\",\n              //   marginTop: '1em'\n            }}\n          >\n            <div className=\"live-video-call-chat-room\">\n              {props.liveVideoChatMessages.data.length > 0 ? (\n                <>\n                  {props.liveVideoChatMessages.data.map((message) => (\n                    <>\n                      <div className=\"live-streaming-user-comments-card\">\n                        <div className=\"live-streaming-user-comments-img-sec\">\n                          <Image\n                            className=\"live-streaming-user-comments-img\"\n                            src={\n                              message.sender_picture\n                                ? message.sender_picture\n                                : message.from_userpicture\n                            }\n                          />\n                        </div>\n                        <div className=\"live-streaming-user-comments-info\">\n                          <h5>\n                            {message.sender_username\n                              ? message.sender_username\n                              : message.from_displayname}\n                          </h5>\n                          <p>{message.message}</p>\n                        </div>\n                      </div>\n                    </>\n                  ))}\n                </>\n              ) : (\n                <NoDataFound />\n              )}\n            </div>\n\n            {/* <div className=\"live-streaming-user-comments-card\">\n              <div className=\"live-streaming-user-comments-img-sec\">\n                <Image\n                  className=\"live-streaming-user-comments-img\"\n                  src={\n                    window.location.origin + \"/assets/images/live-streaming/comments-user-2.png\"\n                  }\n                />\n              </div>\n              <div className=\"live-streaming-user-comments-info\">\n                <h5>Isabella Olivia</h5>\n                <p>You Are Looking So Beautiful....Stunnig o</p>\n              </div>\n            </div>\n            <div className=\"live-streaming-user-comments-card\">\n              <div className=\"live-streaming-user-comments-img-sec\">\n                <Image\n                  className=\"live-streaming-user-comments-img\"\n                  src={\n                    window.location.origin + \"/assets/images/live-streaming/comments-user-3.png\"\n                  }\n                />\n              </div>\n              <div className=\"live-streaming-user-comments-info\">\n                <h5>Isabella Olivia</h5>\n                <p>Awesome</p>\n              </div>\n            </div>\n            <div className=\"live-streaming-user-comments-card\">\n              <div className=\"live-streaming-user-comments-img-sec\">\n                <Image\n                  className=\"live-streaming-user-comments-img\"\n                  src={\n                    window.location.origin + \"/assets/images/live-streaming/comments-user-4.png\"\n                  }\n                />\n              </div>\n              <div className=\"live-streaming-user-comments-info\">\n                <h5>Isabella Olivia</h5>\n                <p>You Are Looking So Beautiful....Stunnig o</p>\n              </div>\n            </div> */}\n          </div>\n        )}\n        <div className=\"live-streaming-user-add-comments-sec\">\n          <form onSubmit={handleChatSubmit}>\n            <InputGroup className=\"mb-0\">\n              <InputGroup.Prepend>\n                <InputGroup.Text id=\"basic-addon1\">\n                  <Image\n                    className=\"live-streaming-user-add-comments-icon\"\n                    src={\n                      window.location.origin +\n                      \"/assets/images/live-streaming/ad-comments-icon.svg\"\n                    }\n                  />\n                </InputGroup.Text>\n              </InputGroup.Prepend>\n              <FormControl\n                placeholder={t(\"type_your_comment_here\")}\n                aria-describedby=\"basic-addon1\"\n                value={inputMessage}\n                onChange={(event) => setInputMessage(event.target.value)}\n                ref={chatInputRef}\n              />\n              <InputGroup.Append>\n                <InputGroup.Text>\n                  <Button\n                    variant=\"light\"\n                    className=\"icon-btn\"\n                    onClick={triggerPicker}\n                  >\n                    <Image\n                      className=\"live-streaming-user-add-comments-icon\"\n                      src={\n                        window.location.origin +\n                        \"/assets/images/video-call/smiley.svg\"\n                      }\n                    />\n                  </Button>\n                </InputGroup.Text>\n              </InputGroup.Append>\n              {emojiPickerState && (\n                <div className=\"emojiWrapper chat-emoji\">\n                  <Picker\n                    title=\"\"\n                    emoji=\"point_up\"\n                    onSelect={(emoji) => handleEmojiSelect(emoji)}\n                  />\n                </div>\n              )}\n            </InputGroup>\n          </form>\n        </div>\n      </div>\n    </>\n  );\n};\n\nconst mapStateToPros = (state) => ({\n  liveVideoChatMessages: state.liveVideo.liveVideoChatMessages,\n  liveEnd: state.liveVideo.liveEnd,\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return { dispatch };\n}\n\nexport default connect(\n  mapStateToPros,\n  mapDispatchToProps\n)(translate(LiveStreamingComments));\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}