{"ast":null,"code":"var _jsxFileName = \"/home/mts/Vishal/src/components/UserChat/UserChatIndex.jsx\";\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { Row, Col, Image, Container, InputGroup, FormControl, Button, Form, Overlay, Tooltip, Dropdown, Media } from \"react-bootstrap\";\nimport \"./UserChat.css\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { addMessageContent, fetchChatMessageStart, fetchChatUsersStart } from \"../../store/actions/ChatAction\";\nimport { saveBlockUserStart } from \"../../store/actions/UserAction\";\nimport ChatUserList from \"./ChatUserList\";\nimport InboxNoDataFound from \"../NoDataFound/InboxNoDataFound\";\nimport io from \"socket.io-client\";\nimport configuration from \"react-global-configuration\";\nimport { translate, t } from \"react-multi-lang\";\nimport InboxLoader from \"../Loader/InboxLoader\";\nimport { getErrorNotificationMessage } from \"../helper/NotificationMessage\";\nimport { createNotification } from \"react-redux-notify/lib/modules/Notifications\";\nimport VerifiedBadgeNoShadow from \"../Handlers/VerifiedBadgeNoShadow\";\nimport ChatAssetModal from \"../helper/ChatAssetModal\";\nimport ReactPlayer from \"react-player/lazy\";\nimport AssetPaymentModal from \"../helper/AssetPaymentModal\";\nimport { Picker, EmojiData } from \"emoji-mart3\";\nimport \"emoji-mart3/css/emoji-mart.css\";\nimport ReactAudioPlayer from \"react-audio-player\";\nimport { isMobile } from \"react-device-detect\";\nimport ReactFancyBox from \"react-fancybox\";\nimport \"react-fancybox/lib/fancybox.css\";\nimport ChatAssetPaymentModal from \"../Model/PaymentModal/ChatAssetPaymentModal\";\nconst $ = window.$;\nlet chatSocket;\nconst UserChatIndex = props => {\n  const [activeChat, setActiveChat] = useState(0);\n  const [toUserId, setToUserId] = useState(0);\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [initialHeight, setInitialHeight] = useState(0);\n  const messageRef = useRef();\n  const [chatAssetUpload, setChatAssetUpload] = useState(false);\n  const [fileType, setFileType] = useState(\"picture\");\n  const [chatPayment, setPaymentModal] = useState(false);\n  const [paymentData, setPaymentData] = useState({\n    chat_message_id: 0,\n    from_user_id: localStorage.getItem(\"userId\"),\n    to_user_id: toUserId,\n    amount_formatted: 0,\n    amount: 0\n  });\n  const closeChatAssetUploadModal = () => {\n    setChatAssetUpload(false);\n  };\n  const [emojiPickerState, SetEmojiPicker] = useState(false);\n  const invalidMessageRef = useRef(null);\n  const [emptyMessageCheck, setEmptyMessageCheck] = useState(false);\n  const [searchKey, setSearchKey] = useState(\"\");\n  useEffect(() => {\n    props.dispatch(fetchChatUsersStart({\n      search_key: searchKey\n    }));\n    let chatSocketUrl = configuration.get(\"configData.chat_socket_url\");\n    if (chatSocketUrl === \"\") {\n      // const notificationMessage = getErrorNotificationMessage(\n      //   \"Socket URL is not configured. Chat wil not work...\"\n      // );\n      // props.dispatch(createNotification(notificationMessage));\n      // window.location.assign(\"/home\");\n    }\n    if (messageRef.current) {\n      messageRef.current.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"end\",\n        inline: \"nearest\"\n      });\n    }\n  }, []);\n  useEffect(() => {\n    console.log(\"Number of times called\");\n    if (props.chatUsers.loading === false && props.chatUsers.data.users.length > 0) {\n      console.log(\"Number of times called true  \");\n      setToUserId(props.chatUsers.data.users[0].to_user_id);\n      chatSocketConnect(props.chatUsers.data.users[0].to_user_id);\n    } else {}\n  }, [!props.chatUsers.loading]);\n\n  // Scroll down function..\n  useEffect(() => {\n    console.log(\"Scroll down..\");\n    const objDiv = document.getElementById(\"options-holder\");\n    if (objDiv != null) {\n      let differenceNumber = objDiv.offsetHeight > objDiv.scrollHeight ? objDiv.offsetHeight - objDiv.scrollHeight : objDiv.scrollHeight - objDiv.offsetHeight;\n      if (differenceNumber > 280) {\n        objDiv.scrollTop = objDiv.scrollHeight;\n      } else {\n        objDiv.scrollTop = initialHeight;\n        setInitialHeight(initialHeight + 20);\n      }\n    }\n  }, [props.chatMessages.data.messages]);\n  const chatSocketConnect = to_user_id => {\n    // check the socket url is configured\n    let chatSocketUrl = configuration.get(\"configData.chat_socket_url\");\n    console.log(\"chatSocket\", chatSocketUrl);\n    console.log(\"Input ID\", to_user_id);\n    if (chatSocketUrl) {\n      chatSocket = io(chatSocketUrl, {\n        query: `commonid:'user_id_` + localStorage.getItem(\"userId\") + `_to_user_id_` + to_user_id + `',myid:` + localStorage.getItem(\"userId\")\n      });\n      console.log(\"chatSocket\", chatSocket);\n      chatSocket.emit(\"update sender\", {\n        commonid: \"user_id_\" + localStorage.getItem(\"userId\") + \"_to_user_id_\" + to_user_id,\n        myid: localStorage.getItem(\"userId\")\n      });\n      let chatContent;\n      chatSocket.on(\"message\", newData => {\n        let content = [];\n        content.push(newData);\n        // chatContent = [...this.state.chatData, ...content];\n        // this.setState({ chatData: chatContent });\n        console.log(content);\n        props.dispatch(addMessageContent(content));\n      });\n    }\n  };\n  const changeUser = (event, chat, index) => {\n    chatSocket.disconnect();\n    if (isMobile) {\n      window.location.assign(\"/user-chat-room/\" + chat.from_user_id + \"/\" + chat.to_user_id);\n    }\n    event.preventDefault();\n    setActiveChat(index);\n    let to_user_id = chat.to_user_id == localStorage.getItem(\"userId\") ? chat.from_user_id : chat.to_user_id;\n    setToUserId(to_user_id);\n    props.dispatch(fetchChatMessageStart({\n      to_user_id: chat.to_user_id,\n      from_user_id: chat.from_user_id\n    }));\n    chatSocketConnect(to_user_id);\n  };\n  const handleChatSubmit = event => {\n    event.preventDefault();\n    let chatSocketUrl = configuration.get(\"configData.chat_socket_url\");\n    if (inputMessage.length == 0) {\n      setEmptyMessageCheck(true);\n    }\n    if (chatSocketUrl != undefined && inputMessage) {\n      let chatData = [{\n        from_user_id: localStorage.getItem(\"userId\"),\n        to_user_id: toUserId,\n        message: inputMessage,\n        type: \"uu\",\n        user_picture: localStorage.getItem(\"user_picture\"),\n        loggedin_user_id: localStorage.getItem(\"userId\"),\n        created: Date(),\n        from_username: localStorage.getItem(\"username\"),\n        from_displayname: localStorage.getItem(\"name\"),\n        from_userpicture: localStorage.getItem(\"user_picture\"),\n        from_user_unique_id: \"\",\n        to_username: \"\",\n        to_displayname: \"\",\n        to_userpicture: \"\",\n        to_user_unique_id: \"\"\n      }];\n      chatSocket.emit(\"message\", chatData[0]);\n      let messages;\n      if (props.chatMessages.data.messages != null) {\n        messages = [...props.chatMessages.data.messages, ...chatData];\n      } else {\n        messages = [...chatData];\n      }\n      setInputMessage(\"\");\n      props.dispatch(addMessageContent(chatData));\n    }\n  };\n  useEffect(() => {\n    props.assetUpload.loading || handleMediaSubmit();\n  }, [props.assetUpload.loading]);\n  const handleMediaSubmit = () => {\n    const assetData = props.assetUpload.data.chat_asset;\n    const assetMessage = props.assetUpload.data.chat_message;\n    let chatSocketUrl = configuration.get(\"configData.chat_socket_url\");\n    if (chatSocketUrl != undefined && assetData && assetMessage) {\n      let chatData = [{\n        from_user_id: localStorage.getItem(\"userId\"),\n        to_user_id: toUserId,\n        chat_message_id: assetMessage ? assetMessage.chat_message_id : \"\",\n        message: assetMessage ? assetMessage.message : \"\",\n        type: \"uu\",\n        user_picture: localStorage.getItem(\"user_picture\"),\n        loggedin_user_id: localStorage.getItem(\"userId\"),\n        created: Date(),\n        from_username: localStorage.getItem(\"username\"),\n        from_displayname: localStorage.getItem(\"name\"),\n        from_userpicture: localStorage.getItem(\"user_picture\"),\n        from_user_unique_id: \"\",\n        to_username: \"\",\n        to_displayname: \"\",\n        to_userpicture: \"\",\n        to_user_unique_id: \"\",\n        chat_asset_id: assetData ? assetData.chat_asset_id : \"\",\n        chat_asset_url: assetMessage.amount > 0 ? assetData.blur_file : assetData.file,\n        file_type: assetData.file_type,\n        is_user_needs_pay: assetMessage.amount > 0 ? 1 : 0,\n        amount: assetMessage.amount > 0 ? assetMessage.amount : 0,\n        amount_formatted: assetMessage.amount > 0 ? assetMessage.amount_formatted : 0,\n        payment_text: assetMessage.amount > 0 ? \"UNLOCK MESSAGE FOR \" + assetMessage.amount_formatted : \"\"\n      }];\n      let chatMessageData = [{\n        from_user_id: localStorage.getItem(\"userId\"),\n        to_user_id: toUserId,\n        chat_message_id: assetMessage ? assetMessage.chat_message_id : \"\",\n        message: assetMessage ? assetMessage.message : \"\",\n        type: \"uu\",\n        user_picture: localStorage.getItem(\"user_picture\"),\n        loggedin_user_id: localStorage.getItem(\"userId\"),\n        created: Date(),\n        from_username: localStorage.getItem(\"username\"),\n        from_displayname: localStorage.getItem(\"name\"),\n        from_userpicture: localStorage.getItem(\"user_picture\"),\n        from_user_unique_id: \"\",\n        to_username: \"\",\n        to_displayname: \"\",\n        to_userpicture: \"\",\n        to_user_unique_id: \"\",\n        chat_asset_id: assetData ? assetData.chat_asset_id : \"\",\n        chat_asset_url: assetData.file,\n        file_type: assetData.file_type,\n        amount: assetMessage.amount > 0 ? assetMessage.amount : 0,\n        amount_formatted: assetMessage.amount > 0 ? assetMessage.amount_formatted : 0,\n        is_user_needs_pay: 0,\n        payment_text: \"\"\n      }];\n      chatSocket.emit(\"message\", chatData[0]);\n      let messages;\n      if (props.chatMessages.data.messages != null) {\n        messages = [...props.chatMessages.data.messages, ...chatMessageData];\n      } else {\n        messages = [...chatMessageData];\n      }\n      if (assetData) {\n        closeChatAssetUploadModal();\n      }\n      setInputMessage(\"\");\n      props.dispatch(addMessageContent(chatMessageData));\n    }\n  };\n  const chatInputChange = value => {\n    setInputMessage(value);\n    if (inputMessage.length > 0) {\n      setEmptyMessageCheck(false);\n    }\n  };\n  const handleAssetUploadModal = fileType => {\n    setChatAssetUpload(true);\n    setFileType(fileType);\n  };\n  const handleAssetPayment = (event, chat_message_id, amount, amount_formatted) => {\n    event.preventDefault();\n    setPaymentData({\n      ...paymentData,\n      chat_message_id: chat_message_id,\n      amount: amount,\n      amount_formatted: amount_formatted\n    });\n    setPaymentModal(true);\n  };\n  const closePaymentModal = () => {\n    setPaymentModal(false);\n  };\n  function triggerPicker(event) {\n    event.preventDefault();\n    SetEmojiPicker(!emojiPickerState);\n  }\n  const handleEmojiSelect = emoji => {\n    SetEmojiPicker(false);\n    setInputMessage(inputMessage + emoji.native);\n  };\n  const handleBlockUser = (event, status, user_id) => {\n    event.preventDefault();\n    props.dispatch(saveBlockUserStart({\n      user_id: user_id,\n      is_other_profile: 1\n    }));\n  };\n  const searchUser = value => {\n    setSearchKey(value);\n    props.dispatch(fetchChatUsersStart({\n      search_key: value\n    }));\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-chat-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    sm: \"12\",\n    md: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-chat-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-chat-list-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-chat-list-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/home`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"back-icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-chevron-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 21\n    }\n  }, t(\"chat\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-list-search-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    placeholder: t(\"search_by_username\"),\n    \"aria-label\": t(\"search_by_username\"),\n    \"aria-describedby\": \"basic-addon2\",\n    onChange: event => searchUser(event.target.value),\n    value: searchKey,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(InputGroup.Text, {\n    id: \"basic-addon2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-list-collapse-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 19\n    }\n  }, props.chatUsers.loading ? null : props.chatUsers.data && props.chatUsers.data.users.length > 0 ? /*#__PURE__*/React.createElement(ChatUserList, {\n    chatUsers: props.chatUsers.data,\n    activeChat: activeChat,\n    setActiveChat: setActiveChat,\n    changeUser: changeUser,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 23\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-list-card active\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-list-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-list-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 29\n    }\n  }, t(\"no_user_found\"))))))), props.chatUsers.loading || props.chatMessages.loading ? \"\" : props.chatMessages.data.user && props.chatMessages.data.user.user_unique_id ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-chat-room-sec mobile-display-none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-chat-room-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/` + props.chatMessages.data.user.user_unique_id,\n    className: \"user-chat-msg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 25\n    }\n  }, props.chatMessages.data.user.name, \" \", props.chatMessages.data.user.is_verified_badge == 1 ? /*#__PURE__*/React.createElement(VerifiedBadgeNoShadow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 437,\n      columnNumber: 29\n    }\n  }) : null, props.chatMessages.data.user.is_online_status == 1 ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-success f-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 29\n    }\n  }, \" \", \"(\", t(\"online\"), \")\") : \"\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"#\",\n    className: \"link-user-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 25\n    }\n  }, \"@\", props.chatMessages.data.user.name, \" \")), /*#__PURE__*/React.createElement(Dropdown, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown.Toggle, {\n    className: \"btn btn-default dropdown-toggle\",\n    type: \"button\",\n    id: \"dropdown-basic\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-ellipsis-v svg-clone vertical-dots h-dots\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 27\n    }\n  })), /*#__PURE__*/React.createElement(Dropdown.Menu, {\n    className: \"dropdown-menu dropdown-menu-right r-dropdown-menu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 468,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Media, {\n    as: \"li\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 469,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/` + props.chatMessages.data.user.user_unique_id,\n    className: \"dropdown-a\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 29\n    }\n  }, t(\"view_profile\"))), /*#__PURE__*/React.createElement(Media, {\n    as: \"li\",\n    className: \"divider\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 480,\n      columnNumber: 27\n    }\n  }), props.chatMessages.data.is_block_user == 1 && /*#__PURE__*/React.createElement(Media, {\n    as: \"li\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"#\",\n    className: \"dropdown-a\",\n    onClick: event => handleBlockUser(event, \"unblocked\", props.chatMessages.data.user.user_id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 31\n    }\n  }, t(\"unblock\"))), /*#__PURE__*/React.createElement(React.Fragment, null)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-chat-main-wrapper-body\",\n    id: \"options-holder\" // Don't remove this id. Get confirmation from vithya\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 502,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-message-content-sec\",\n    ref: messageRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 506,\n      columnNumber: 23\n    }\n  }, props.chatMessages.data.messages.length > 0 ? props.chatMessages.data.messages.map((chatMessage, index) => /*#__PURE__*/React.createElement(React.Fragment, null, chatMessage.from_user_id == localStorage.getItem(\"userId\") ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-message-right-align\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 516,\n      columnNumber: 35\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-message-user-img-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: localStorage.getItem(\"user_picture\"),\n    alt: \"\",\n    className: \"user-message-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 518,\n      columnNumber: 39\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-message-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 526,\n      columnNumber: 37\n    }\n  }, chatMessage.chat_asset_url && chatMessage.file_type == \"video\" ? /*#__PURE__*/React.createElement(ReactPlayer, {\n    url: chatMessage.chat_asset_url,\n    controls: true,\n    className: \"post-video-size chat-video\",\n    width: \"450px\",\n    height: \"450px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 529,\n      columnNumber: 41\n    }\n  }) : \"\", chatMessage.chat_asset_url && chatMessage.file_type == \"audio\" ? /*#__PURE__*/React.createElement(ReactAudioPlayer, {\n    src: chatMessage.chat_asset_url,\n    controls: true,\n    width: \"450px\",\n    height: \"450px\",\n    className: \"chat-room-audio-display\",\n    autoPlay: false,\n    controlsList: \"nodownload\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 541,\n      columnNumber: 41\n    }\n  }) :\n  // <ReactPlayer\n  //   url={chatMessage.chat_asset_url}\n  //   controls={true}\n  //   width=\"450px\"\n  //   height=\"450px\"\n  //   className=\"chat-room-audio-display\"\n  // />\n  \"\", /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 560,\n      columnNumber: 39\n    }\n  }, chatMessage.chat_asset_url && chatMessage.file_type == \"image\" ? /*#__PURE__*/React.createElement(ReactFancyBox, {\n    image: chatMessage.chat_asset_url,\n    className: \"chat-view-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 563,\n      columnNumber: 43\n    }\n  }) : \"\", chatMessage.is_user_needs_pay === 1 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gallery-top-btn-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 573,\n      columnNumber: 43\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"subscribe-post-btn-sec\",\n    onClick: event => handleAssetPayment(event, chatMessage.chat_message_id, chatMessage.amount, chatMessage.amount_formatted),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 574,\n      columnNumber: 45\n    }\n  }, chatMessage.payment_text)) : \"\"), chatMessage.message == \"\" ? null : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 594,\n      columnNumber: 43\n    }\n  }, t(\"you\"), \", \", chatMessage.created), /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"float-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 595,\n      columnNumber: 43\n    }\n  }, chatMessage.message)))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-message-left-align\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 603,\n      columnNumber: 35\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-message-user-img-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 604,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: props.chatMessages.data.user.picture,\n    alt: \"\",\n    className: \"user-message-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 605,\n      columnNumber: 39\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-message-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 613,\n      columnNumber: 37\n    }\n  }, chatMessage.chat_asset_url && chatMessage.file_type == \"video\" ? chatMessage.is_user_needs_pay === 1 ? /*#__PURE__*/React.createElement(Image, {\n    src: chatMessage.chat_asset_url,\n    className: \"chat-view-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 618,\n      columnNumber: 43\n    }\n  }) : /*#__PURE__*/React.createElement(ReactPlayer, {\n    url: chatMessage.chat_asset_url,\n    controls: true,\n    className: \"post-video-size chat-room-video-display chat-video\",\n    width: \"450px\",\n    height: \"450px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 623,\n      columnNumber: 43\n    }\n  }) : \"\", /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 634,\n      columnNumber: 39\n    }\n  }, chatMessage.chat_asset_url && chatMessage.file_type == \"image\" ? /*#__PURE__*/React.createElement(Image, {\n    src: chatMessage.chat_asset_url,\n    className: \"chat-view-image\"\n    // onClick={(event) =>\n    //   handleImagePreview(event, 1)\n    // }\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 637,\n      columnNumber: 43\n    }\n  }) : \"\", chatMessage.chat_asset_url && chatMessage.file_type == \"audio\" ? chatMessage.is_user_needs_pay === 1 ? /*#__PURE__*/React.createElement(Image, {\n    src: chatMessage.chat_asset_url,\n    className: \"chat-view-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 651,\n      columnNumber: 45\n    }\n  }) : /*#__PURE__*/React.createElement(ReactAudioPlayer, {\n    src: chatMessage.chat_asset_url,\n    controls: true,\n    width: \"450px\",\n    height: \"450px\",\n    className: \"chat-room-audio-display\",\n    autoPlay: false,\n    controlsList: \"nodownload\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 656,\n      columnNumber: 45\n    }\n  })\n  // <ReactPlayer\n  //   url={chatMessage.chat_asset_url}\n  //   controls={true}\n  //   width=\"450px\"\n  //   height=\"450px\"\n  //   className=\"chat-room-audio-display\"\n  // />\n  : \"\", chatMessage.is_user_needs_pay === 1 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"gallery-top-btn-sec chat-room-pay-display\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 679,\n      columnNumber: 43\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"subscribe-post-btn-sec\",\n    onClick: event => handleAssetPayment(event, chatMessage.chat_message_id, chatMessage.amount, chatMessage.amount_formatted),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 680,\n      columnNumber: 45\n    }\n  }, chatMessage.payment_text)) : \"\"), chatMessage.message == \"\" ? null : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 700,\n      columnNumber: 43\n    }\n  }, props.chatMessages.data.user.name, \", \", chatMessage.created), /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 707,\n      columnNumber: 43\n    }\n  }, chatMessage.message)))), \" \")) : \"\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-chat-main-wrapper-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 720,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    id: \"chat_post_form\",\n    className: \"has-advanced-upload\",\n    onSubmit: handleChatSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 721,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup, {\n    hasValidation: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 726,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    placeholder: t(\"type_a_message\"),\n    \"aria-label\": \"Type a message\",\n    \"aria-describedby\": \"basic-addon2\",\n    value: inputMessage,\n    onChange: event => {\n      chatInputChange(event.currentTarget.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 727,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-icon-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 736,\n      columnNumber: 27\n    }\n  }, configuration.get(\"configData.is_chat_asset_enabled\") == 1 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(InputGroup.Append, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 741,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup.Text, {\n    id: \"basic-addon2\",\n    className: \"chat-border-needed border-radius-zero\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 742,\n      columnNumber: 35\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    \"data-can_send\": \"true\",\n    className: \"g-btn m-rounded b-chat__btn-submit\",\n    onClick: () => handleAssetUploadModal(\"image\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 746,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: window.location.origin + \"/assets/images/icons/popover-image.svg\",\n    className: \"svg-clone  wh-32\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 754,\n      columnNumber: 39\n    }\n  })))), /*#__PURE__*/React.createElement(InputGroup.Append, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 764,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup.Text, {\n    id: \"basic-addon2\",\n    className: \"border-radius-zero\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 765,\n      columnNumber: 35\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    \"data-can_send\": \"true\",\n    className: \"g-btn m-rounded b-chat__btn-submit\",\n    onClick: () => handleAssetUploadModal(\"video\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 769,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: window.location.origin + \"/assets/images/icons/popover-video.svg\",\n    className: \"svg-clone  wh-32\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 777,\n      columnNumber: 39\n    }\n  })))), /*#__PURE__*/React.createElement(InputGroup.Append, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 787,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup.Text, {\n    id: \"basic-addon2\",\n    className: \"chat-border-zero\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 788,\n      columnNumber: 35\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    \"data-can_send\": \"true\",\n    className: \"g-btn m-rounded b-chat__btn-submit\",\n    onClick: () => handleAssetUploadModal(\"audio\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 792,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: window.location.origin + \"/assets/images/icons/popover-mic.svg\",\n    className: \"svg-clone  wh-32\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 800,\n      columnNumber: 39\n    }\n  }))))) : \"\", /*#__PURE__*/React.createElement(InputGroup.Append, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 814,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup.Text, {\n    id: \"basic-addon2\",\n    className: \"position-relative last-child-mobile-icon chat-border-zero\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 815,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    className: \"space-between-evenly\",\n    \"data-can_send\": \"true\",\n    onClick: handleChatSubmit,\n    ref: invalidMessageRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 819,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    className: \"comment-send-icon\",\n    src: window.location.origin + \"/assets/images/icons/comment-send-icon.png\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 827,\n      columnNumber: 35\n    }\n  })))), /*#__PURE__*/React.createElement(InputGroup.Append, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 837,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 838,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Overlay, {\n    target: invalidMessageRef,\n    show: emptyMessageCheck,\n    placement: \"top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 839,\n      columnNumber: 33\n    }\n  }, props => /*#__PURE__*/React.createElement(Tooltip, Object.assign({\n    id: \"chat-invalid\"\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 845,\n      columnNumber: 37\n    }\n  }), t(\"please_type_a_message\"))), /*#__PURE__*/React.createElement(Button, {\n    className: \"ml-2\",\n    type: \"button\",\n    onClick: triggerPicker,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 850,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"far fa-smile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 855,\n      columnNumber: 35\n    }\n  })))))))), emojiPickerState && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"emojiWrapper chat-emoji\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 864,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Picker, {\n    title: \"\",\n    emoji: \"point_up\",\n    onSelect: emoji => handleEmojiSelect(emoji),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 865,\n      columnNumber: 25\n    }\n  }))) : /*#__PURE__*/React.createElement(InboxNoDataFound, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 874,\n      columnNumber: 19\n    }\n  }))))), /*#__PURE__*/React.createElement(ChatAssetModal, {\n    chatAssetUpload: chatAssetUpload,\n    closeChatAssetUploadModal: closeChatAssetUploadModal,\n    fileType: fileType,\n    toUserId: toUserId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 880,\n      columnNumber: 9\n    }\n  }), props.chatMessages.loading ? t(\"loading\") :\n  // <AssetPaymentModal\n  //   chatPayment={chatPayment}\n  //   closePaymentModal={closePaymentModal}\n  //   paymentData={paymentData}\n  // />\n  chatPayment ? /*#__PURE__*/React.createElement(ChatAssetPaymentModal, {\n    paymentsModal: chatPayment,\n    closepaymentsModal: closePaymentModal,\n    paymentData: paymentData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 895,\n      columnNumber: 13\n    }\n  }) : null));\n};\nconst mapStateToPros = state => ({\n  chatUsers: state.chat.chatUsers,\n  chatMessages: state.chat.messages,\n  assetUpload: state.chatAsset.saveAssetUpload\n});\nfunction mapDispatchToProps(dispatch) {\n  return {\n    dispatch\n  };\n}\nexport default connect(mapStateToPros, mapDispatchToProps)(translate(UserChatIndex));","map":{"version":3,"names":["React","useEffect","useState","useRef","Row","Col","Image","Container","InputGroup","FormControl","Button","Form","Overlay","Tooltip","Dropdown","Media","Link","connect","addMessageContent","fetchChatMessageStart","fetchChatUsersStart","saveBlockUserStart","ChatUserList","InboxNoDataFound","io","configuration","translate","t","InboxLoader","getErrorNotificationMessage","createNotification","VerifiedBadgeNoShadow","ChatAssetModal","ReactPlayer","AssetPaymentModal","Picker","EmojiData","ReactAudioPlayer","isMobile","ReactFancyBox","ChatAssetPaymentModal","$","window","chatSocket","UserChatIndex","props","activeChat","setActiveChat","toUserId","setToUserId","inputMessage","setInputMessage","initialHeight","setInitialHeight","messageRef","chatAssetUpload","setChatAssetUpload","fileType","setFileType","chatPayment","setPaymentModal","paymentData","setPaymentData","chat_message_id","from_user_id","localStorage","getItem","to_user_id","amount_formatted","amount","closeChatAssetUploadModal","emojiPickerState","SetEmojiPicker","invalidMessageRef","emptyMessageCheck","setEmptyMessageCheck","searchKey","setSearchKey","dispatch","search_key","chatSocketUrl","get","current","scrollIntoView","behavior","block","inline","console","log","chatUsers","loading","data","users","length","chatSocketConnect","objDiv","document","getElementById","differenceNumber","offsetHeight","scrollHeight","scrollTop","chatMessages","messages","query","emit","commonid","myid","chatContent","on","newData","content","push","changeUser","event","chat","index","disconnect","location","assign","preventDefault","handleChatSubmit","undefined","chatData","message","type","user_picture","loggedin_user_id","created","Date","from_username","from_displayname","from_userpicture","from_user_unique_id","to_username","to_displayname","to_userpicture","to_user_unique_id","assetUpload","handleMediaSubmit","assetData","chat_asset","assetMessage","chat_message","chat_asset_id","chat_asset_url","blur_file","file","file_type","is_user_needs_pay","payment_text","chatMessageData","chatInputChange","value","handleAssetUploadModal","handleAssetPayment","closePaymentModal","triggerPicker","handleEmojiSelect","emoji","native","handleBlockUser","status","user_id","is_other_profile","searchUser","createElement","Fragment","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","sm","md","to","placeholder","onChange","target","Text","id","user","user_unique_id","name","is_verified_badge","is_online_status","Toggle","Menu","as","is_block_user","onClick","ref","map","chatMessage","src","alt","url","controls","width","height","autoPlay","controlsList","image","picture","onSubmit","hasValidation","currentTarget","Append","origin","show","placement","Object","title","onSelect","paymentsModal","closepaymentsModal","mapStateToPros","state","chatAsset","saveAssetUpload","mapDispatchToProps"],"sources":["/home/mts/Vishal/src/components/UserChat/UserChatIndex.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport {\n  Row,\n  Col,\n  Image,\n  Container,\n  InputGroup,\n  FormControl,\n  Button,\n  Form,\n  Overlay,\n  Tooltip,\n  Dropdown,\n  Media,\n} from \"react-bootstrap\";\nimport \"./UserChat.css\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport {\n  addMessageContent,\n  fetchChatMessageStart,\n  fetchChatUsersStart,\n} from \"../../store/actions/ChatAction\";\nimport { saveBlockUserStart } from \"../../store/actions/UserAction\";\nimport ChatUserList from \"./ChatUserList\";\nimport InboxNoDataFound from \"../NoDataFound/InboxNoDataFound\";\nimport io from \"socket.io-client\";\nimport configuration from \"react-global-configuration\";\nimport { translate, t } from \"react-multi-lang\";\n\nimport InboxLoader from \"../Loader/InboxLoader\";\nimport { getErrorNotificationMessage } from \"../helper/NotificationMessage\";\nimport { createNotification } from \"react-redux-notify/lib/modules/Notifications\";\nimport VerifiedBadgeNoShadow from \"../Handlers/VerifiedBadgeNoShadow\";\nimport ChatAssetModal from \"../helper/ChatAssetModal\";\nimport ReactPlayer from \"react-player/lazy\";\nimport AssetPaymentModal from \"../helper/AssetPaymentModal\";\nimport { Picker, EmojiData } from \"emoji-mart3\";\nimport \"emoji-mart3/css/emoji-mart.css\";\nimport ReactAudioPlayer from \"react-audio-player\";\nimport { isMobile } from \"react-device-detect\";\nimport ReactFancyBox from \"react-fancybox\";\nimport \"react-fancybox/lib/fancybox.css\";\nimport ChatAssetPaymentModal from \"../Model/PaymentModal/ChatAssetPaymentModal\";\n\nconst $ = window.$;\n\nlet chatSocket;\n\nconst UserChatIndex = (props) => {\n  const [activeChat, setActiveChat] = useState(0);\n  const [toUserId, setToUserId] = useState(0);\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [initialHeight, setInitialHeight] = useState(0);\n\n  const messageRef = useRef();\n\n  const [chatAssetUpload, setChatAssetUpload] = useState(false);\n  const [fileType, setFileType] = useState(\"picture\");\n  const [chatPayment, setPaymentModal] = useState(false);\n  const [paymentData, setPaymentData] = useState({\n    chat_message_id: 0,\n    from_user_id: localStorage.getItem(\"userId\"),\n    to_user_id: toUserId,\n    amount_formatted: 0,\n    amount: 0,\n  });\n\n  const closeChatAssetUploadModal = () => {\n    setChatAssetUpload(false);\n  };\n\n  const [emojiPickerState, SetEmojiPicker] = useState(false);\n\n  const invalidMessageRef = useRef(null);\n\n  const [emptyMessageCheck, setEmptyMessageCheck] = useState(false);\n  const [searchKey, setSearchKey] = useState(\"\");\n\n  useEffect(() => {\n    props.dispatch(fetchChatUsersStart({ search_key: searchKey }));\n    let chatSocketUrl = configuration.get(\"configData.chat_socket_url\");\n    if (chatSocketUrl === \"\") {\n      // const notificationMessage = getErrorNotificationMessage(\n      //   \"Socket URL is not configured. Chat wil not work...\"\n      // );\n      // props.dispatch(createNotification(notificationMessage));\n      // window.location.assign(\"/home\");\n    }\n    if (messageRef.current) {\n      messageRef.current.scrollIntoView({\n        behavior: \"smooth\",\n        block: \"end\",\n        inline: \"nearest\",\n      });\n    }\n  }, []);\n\n  useEffect(() => {\n    console.log(\"Number of times called\");\n    if (\n      props.chatUsers.loading === false &&\n      props.chatUsers.data.users.length > 0\n    ) {\n      console.log(\"Number of times called true  \");\n      setToUserId(props.chatUsers.data.users[0].to_user_id);\n      chatSocketConnect(props.chatUsers.data.users[0].to_user_id);\n    } else {\n    }\n  }, [!props.chatUsers.loading]);\n\n  // Scroll down function..\n  useEffect(() => {\n    console.log(\"Scroll down..\");\n    const objDiv = document.getElementById(\"options-holder\");\n    if (objDiv != null) {\n      let differenceNumber =\n        objDiv.offsetHeight > objDiv.scrollHeight\n          ? objDiv.offsetHeight - objDiv.scrollHeight\n          : objDiv.scrollHeight - objDiv.offsetHeight;\n\n      if (differenceNumber > 280) {\n        objDiv.scrollTop = objDiv.scrollHeight;\n      } else {\n        objDiv.scrollTop = initialHeight;\n        setInitialHeight(initialHeight + 20);\n      }\n    }\n  }, [props.chatMessages.data.messages]);\n\n  const chatSocketConnect = (to_user_id) => {\n    // check the socket url is configured\n    let chatSocketUrl = configuration.get(\"configData.chat_socket_url\");\n    console.log(\"chatSocket\", chatSocketUrl);\n    console.log(\"Input ID\", to_user_id);\n    if (chatSocketUrl) {\n      chatSocket = io(chatSocketUrl, {\n        query:\n          `commonid:'user_id_` +\n          localStorage.getItem(\"userId\") +\n          `_to_user_id_` +\n          to_user_id +\n          `',myid:` +\n          localStorage.getItem(\"userId\"),\n      });\n      console.log(\"chatSocket\", chatSocket);\n      chatSocket.emit(\"update sender\", {\n        commonid:\n          \"user_id_\" +\n          localStorage.getItem(\"userId\") +\n          \"_to_user_id_\" +\n          to_user_id,\n        myid: localStorage.getItem(\"userId\"),\n      });\n      let chatContent;\n      chatSocket.on(\"message\", (newData) => {\n        let content = [];\n        content.push(newData);\n        // chatContent = [...this.state.chatData, ...content];\n        // this.setState({ chatData: chatContent });\n        console.log(content);\n        props.dispatch(addMessageContent(content));\n      });\n    }\n  };\n\n  const changeUser = (event, chat, index) => {\n    chatSocket.disconnect();\n    if (isMobile) {\n      window.location.assign(\n        \"/user-chat-room/\" + chat.from_user_id + \"/\" + chat.to_user_id\n      );\n    }\n    event.preventDefault();\n    setActiveChat(index);\n    let to_user_id =\n      chat.to_user_id == localStorage.getItem(\"userId\")\n        ? chat.from_user_id\n        : chat.to_user_id;\n    setToUserId(to_user_id);\n\n    props.dispatch(\n      fetchChatMessageStart({\n        to_user_id: chat.to_user_id,\n        from_user_id: chat.from_user_id,\n      })\n    );\n    chatSocketConnect(to_user_id);\n  };\n\n  const handleChatSubmit = (event) => {\n    event.preventDefault();\n    let chatSocketUrl = configuration.get(\"configData.chat_socket_url\");\n\n    if (inputMessage.length == 0) {\n      setEmptyMessageCheck(true);\n    }\n\n    if (chatSocketUrl != undefined && inputMessage) {\n      let chatData = [\n        {\n          from_user_id: localStorage.getItem(\"userId\"),\n          to_user_id: toUserId,\n          message: inputMessage,\n          type: \"uu\",\n          user_picture: localStorage.getItem(\"user_picture\"),\n          loggedin_user_id: localStorage.getItem(\"userId\"),\n          created: Date(),\n          from_username: localStorage.getItem(\"username\"),\n          from_displayname: localStorage.getItem(\"name\"),\n          from_userpicture: localStorage.getItem(\"user_picture\"),\n          from_user_unique_id: \"\",\n          to_username: \"\",\n          to_displayname: \"\",\n          to_userpicture: \"\",\n          to_user_unique_id: \"\",\n        },\n      ];\n      chatSocket.emit(\"message\", chatData[0]);\n      let messages;\n      if (props.chatMessages.data.messages != null) {\n        messages = [...props.chatMessages.data.messages, ...chatData];\n      } else {\n        messages = [...chatData];\n      }\n\n      setInputMessage(\"\");\n      props.dispatch(addMessageContent(chatData));\n    }\n  };\n\n  useEffect(() => {\n    props.assetUpload.loading || handleMediaSubmit();\n  }, [props.assetUpload.loading]);\n\n  const handleMediaSubmit = () => {\n    const assetData = props.assetUpload.data.chat_asset;\n    const assetMessage = props.assetUpload.data.chat_message;\n    let chatSocketUrl = configuration.get(\"configData.chat_socket_url\");\n    if (chatSocketUrl != undefined && assetData && assetMessage) {\n      let chatData = [\n        {\n          from_user_id: localStorage.getItem(\"userId\"),\n          to_user_id: toUserId,\n          chat_message_id: assetMessage ? assetMessage.chat_message_id : \"\",\n          message: assetMessage ? assetMessage.message : \"\",\n          type: \"uu\",\n          user_picture: localStorage.getItem(\"user_picture\"),\n          loggedin_user_id: localStorage.getItem(\"userId\"),\n          created: Date(),\n          from_username: localStorage.getItem(\"username\"),\n          from_displayname: localStorage.getItem(\"name\"),\n          from_userpicture: localStorage.getItem(\"user_picture\"),\n          from_user_unique_id: \"\",\n          to_username: \"\",\n          to_displayname: \"\",\n          to_userpicture: \"\",\n          to_user_unique_id: \"\",\n          chat_asset_id: assetData ? assetData.chat_asset_id : \"\",\n          chat_asset_url:\n            assetMessage.amount > 0 ? assetData.blur_file : assetData.file,\n          file_type: assetData.file_type,\n          is_user_needs_pay: assetMessage.amount > 0 ? 1 : 0,\n          amount: assetMessage.amount > 0 ? assetMessage.amount : 0,\n          amount_formatted:\n            assetMessage.amount > 0 ? assetMessage.amount_formatted : 0,\n          payment_text:\n            assetMessage.amount > 0\n              ? \"UNLOCK MESSAGE FOR \" + assetMessage.amount_formatted\n              : \"\",\n        },\n      ];\n\n      let chatMessageData = [\n        {\n          from_user_id: localStorage.getItem(\"userId\"),\n          to_user_id: toUserId,\n          chat_message_id: assetMessage ? assetMessage.chat_message_id : \"\",\n          message: assetMessage ? assetMessage.message : \"\",\n          type: \"uu\",\n          user_picture: localStorage.getItem(\"user_picture\"),\n          loggedin_user_id: localStorage.getItem(\"userId\"),\n          created: Date(),\n          from_username: localStorage.getItem(\"username\"),\n          from_displayname: localStorage.getItem(\"name\"),\n          from_userpicture: localStorage.getItem(\"user_picture\"),\n          from_user_unique_id: \"\",\n          to_username: \"\",\n          to_displayname: \"\",\n          to_userpicture: \"\",\n          to_user_unique_id: \"\",\n          chat_asset_id: assetData ? assetData.chat_asset_id : \"\",\n          chat_asset_url: assetData.file,\n          file_type: assetData.file_type,\n          amount: assetMessage.amount > 0 ? assetMessage.amount : 0,\n          amount_formatted:\n            assetMessage.amount > 0 ? assetMessage.amount_formatted : 0,\n          is_user_needs_pay: 0,\n          payment_text: \"\",\n        },\n      ];\n      chatSocket.emit(\"message\", chatData[0]);\n      let messages;\n      if (props.chatMessages.data.messages != null) {\n        messages = [...props.chatMessages.data.messages, ...chatMessageData];\n      } else {\n        messages = [...chatMessageData];\n      }\n      if (assetData) {\n        closeChatAssetUploadModal();\n      }\n      setInputMessage(\"\");\n      props.dispatch(addMessageContent(chatMessageData));\n    }\n  };\n\n  const chatInputChange = (value) => {\n    setInputMessage(value);\n    if (inputMessage.length > 0) {\n      setEmptyMessageCheck(false);\n    }\n  };\n\n  const handleAssetUploadModal = (fileType) => {\n    setChatAssetUpload(true);\n    setFileType(fileType);\n  };\n\n  const handleAssetPayment = (\n    event,\n    chat_message_id,\n    amount,\n    amount_formatted\n  ) => {\n    event.preventDefault();\n    setPaymentData({\n      ...paymentData,\n      chat_message_id: chat_message_id,\n      amount: amount,\n      amount_formatted: amount_formatted,\n    });\n    setPaymentModal(true);\n  };\n  const closePaymentModal = () => {\n    setPaymentModal(false);\n  };\n\n  function triggerPicker(event) {\n    event.preventDefault();\n    SetEmojiPicker(!emojiPickerState);\n  }\n\n  const handleEmojiSelect = (emoji) => {\n    SetEmojiPicker(false);\n    setInputMessage(inputMessage + emoji.native);\n  };\n\n  const handleBlockUser = (event, status, user_id) => {\n    event.preventDefault();\n    props.dispatch(\n      saveBlockUserStart({\n        user_id: user_id,\n        is_other_profile: 1,\n      })\n    );\n  };\n\n  const searchUser = (value) => {\n    setSearchKey(value);\n    props.dispatch(fetchChatUsersStart({ search_key: value }));\n  };\n\n  return (\n    <>\n      <div className=\"user-chat-sec\">\n        <Container>\n          <Row>\n            <Col sm=\"12\" md=\"12\">\n              <div className=\"user-chat-box\">\n                <div className=\"user-chat-list-sec\">\n                  <div className=\"user-chat-list-header\">\n                    <Link to={`/home`}>\n                      <div className=\"back-icon\">\n                        <i className=\"fas fa-chevron-left\"></i>\n                      </div>\n                    </Link>\n                    <h3>{t(\"chat\")}</h3>\n                  </div>\n                  <div className=\"chat-list-search-sec\">\n                    <InputGroup>\n                      <FormControl\n                        placeholder={t(\"search_by_username\")}\n                        aria-label={t(\"search_by_username\")}\n                        aria-describedby=\"basic-addon2\"\n                        onChange={(event) => searchUser(event.target.value)}\n                        value={searchKey}\n                      />\n                      <InputGroup.Text id=\"basic-addon2\">\n                        <i className=\"fas fa-search\"></i>\n                      </InputGroup.Text>\n                    </InputGroup>\n                  </div>\n                  <div className=\"chat-list-collapse-body\">\n                    {props.chatUsers.loading ? null : props.chatUsers.data &&\n                      props.chatUsers.data.users.length > 0 ? (\n                      <ChatUserList\n                        chatUsers={props.chatUsers.data}\n                        activeChat={activeChat}\n                        setActiveChat={setActiveChat}\n                        changeUser={changeUser}\n                      />\n                    ) : (\n                      <div className=\"user-list-card active\">\n                        <div className=\"user-list-body\">\n                          <div className=\"user-list-info\">\n                            <h6>{t(\"no_user_found\")}</h6>\n                          </div>\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                </div>\n                {props.chatUsers.loading || props.chatMessages.loading ? (\n                  \"\"\n                ) : props.chatMessages.data.user &&\n                  props.chatMessages.data.user.user_unique_id ? (\n                  <div className=\"user-chat-room-sec mobile-display-none\">\n                    <div className=\"user-chat-room-header\">\n                      <Link\n                        to={`/` + props.chatMessages.data.user.user_unique_id}\n                        className=\"user-chat-msg\"\n                      >\n                        <h3>\n                          {props.chatMessages.data.user.name}{\" \"}\n                          {props.chatMessages.data.user.is_verified_badge ==\n                            1 ? (\n                            <VerifiedBadgeNoShadow />\n                          ) : null}\n                          {props.chatMessages.data.user.is_online_status ==\n                            1 ? (\n                            <span className=\"text-success f-12\">\n                              {\" \"}\n                              ({t(\"online\")})\n                            </span>\n                          ) : (\n                            \"\"\n                          )}\n                        </h3>\n                        <Link to=\"#\" className=\"link-user-name\">\n                          @{props.chatMessages.data.user.name}{\" \"}\n                        </Link>\n                      </Link>\n                      <Dropdown>\n                        <Dropdown.Toggle\n                          className=\"btn btn-default dropdown-toggle\"\n                          type=\"button\"\n                          id=\"dropdown-basic\"\n                        >\n                          {/* <Image\n                            src={\n                              window.location.origin +\n                              \"/assets/images/icons/vertical-dots.svg\"\n                            }\n                            className=\"svg-clone vertical-dots\"\n                          /> */}\n                          <i className=\"fas fa-ellipsis-v svg-clone vertical-dots h-dots\"></i>\n                        </Dropdown.Toggle>\n                        <Dropdown.Menu className=\"dropdown-menu dropdown-menu-right r-dropdown-menu\">\n                          <Media as=\"li\">\n                            <Link\n                              to={\n                                `/` +\n                                props.chatMessages.data.user.user_unique_id\n                              }\n                              className=\"dropdown-a\"\n                            >\n                              {t(\"view_profile\")}\n                            </Link>\n                          </Media>\n                          <Media as=\"li\" className=\"divider\"></Media>\n                          {props.chatMessages.data.is_block_user == 1 && (\n                            <Media as=\"li\">\n                              <Link\n                                to=\"#\"\n                                className=\"dropdown-a\"\n                                onClick={(event) =>\n                                  handleBlockUser(\n                                    event,\n                                    \"unblocked\",\n                                    props.chatMessages.data.user.user_id\n                                  )\n                                }\n                              >\n                                {t(\"unblock\")}\n                              </Link>\n                            </Media>\n                          )}\n                          <></>\n                        </Dropdown.Menu>\n                      </Dropdown>\n                    </div>\n                    <div\n                      className=\"user-chat-main-wrapper-body\"\n                      id=\"options-holder\" // Don't remove this id. Get confirmation from vithya\n                    >\n                      <div\n                        className=\"user-message-content-sec\"\n                        ref={messageRef}\n                      >\n                        {props.chatMessages.data.messages.length > 0\n                          ? props.chatMessages.data.messages.map(\n                            (chatMessage, index) => (\n                              <>\n                                {chatMessage.from_user_id ==\n                                  localStorage.getItem(\"userId\") ? (\n                                  <div className=\"user-message-right-align\">\n                                    <div className=\"user-message-user-img-sec\">\n                                      <Image\n                                        src={localStorage.getItem(\n                                          \"user_picture\"\n                                        )}\n                                        alt=\"\"\n                                        className=\"user-message-img\"\n                                      />\n                                    </div>\n                                    <div className=\"user-message-info\">\n                                      {chatMessage.chat_asset_url &&\n                                        chatMessage.file_type == \"video\" ? (\n                                        <ReactPlayer\n                                          url={chatMessage.chat_asset_url}\n                                          controls={true}\n                                          className=\"post-video-size chat-video\"\n                                          width=\"450px\"\n                                          height=\"450px\"\n                                        />\n                                      ) : (\n                                        \"\"\n                                      )}\n                                      {chatMessage.chat_asset_url &&\n                                        chatMessage.file_type == \"audio\" ? (\n                                        <ReactAudioPlayer\n                                          src={chatMessage.chat_asset_url}\n                                          controls={true}\n                                          width=\"450px\"\n                                          height=\"450px\"\n                                          className=\"chat-room-audio-display\"\n                                          autoPlay={false}\n                                          controlsList={\"nodownload\"}\n                                        />\n                                      ) : (\n                                        // <ReactPlayer\n                                        //   url={chatMessage.chat_asset_url}\n                                        //   controls={true}\n                                        //   width=\"450px\"\n                                        //   height=\"450px\"\n                                        //   className=\"chat-room-audio-display\"\n                                        // />\n                                        \"\"\n                                      )}\n                                      <div>\n                                        {chatMessage.chat_asset_url &&\n                                          chatMessage.file_type == \"image\" ? (\n                                          <ReactFancyBox\n                                            image={chatMessage.chat_asset_url}\n                                            className=\"chat-view-image\"\n                                          />\n                                        ) : (\n                                          \"\"\n                                        )}\n\n                                        {chatMessage.is_user_needs_pay ===\n                                          1 ? (\n                                          <div className=\"gallery-top-btn-sec\">\n                                            <Button\n                                              className=\"subscribe-post-btn-sec\"\n                                              onClick={(event) =>\n                                                handleAssetPayment(\n                                                  event,\n                                                  chatMessage.chat_message_id,\n                                                  chatMessage.amount,\n                                                  chatMessage.amount_formatted\n                                                )\n                                              }\n                                            >\n                                              {chatMessage.payment_text}\n                                            </Button>\n                                          </div>\n                                        ) : (\n                                          \"\"\n                                        )}\n                                      </div>\n                                      {chatMessage.message == \"\" ? null : (\n                                        <>\n                                          <p>{t(\"you\")}, {chatMessage.created}</p>\n                                          <h6 className=\"float-right\">\n                                            {chatMessage.message}\n                                          </h6>\n                                        </>\n                                      )}\n                                    </div>\n                                  </div>\n                                ) : (\n                                  <div className=\"user-message-left-align\">\n                                    <div className=\"user-message-user-img-sec\">\n                                      <Image\n                                        src={\n                                          props.chatMessages.data.user.picture\n                                        }\n                                        alt=\"\"\n                                        className=\"user-message-img\"\n                                      />\n                                    </div>\n                                    <div className=\"user-message-info\">\n                                      {chatMessage.chat_asset_url &&\n                                        chatMessage.file_type == \"video\" ? (\n                                        chatMessage.is_user_needs_pay ===\n                                          1 ? (\n                                          <Image\n                                            src={chatMessage.chat_asset_url}\n                                            className=\"chat-view-image\"\n                                          ></Image>\n                                        ) : (\n                                          <ReactPlayer\n                                            url={chatMessage.chat_asset_url}\n                                            controls={true}\n                                            className=\"post-video-size chat-room-video-display chat-video\"\n                                            width=\"450px\"\n                                            height=\"450px\"\n                                          />\n                                        )\n                                      ) : (\n                                        \"\"\n                                      )}\n                                      <div>\n                                        {chatMessage.chat_asset_url &&\n                                          chatMessage.file_type == \"image\" ? (\n                                          <Image\n                                            src={chatMessage.chat_asset_url}\n                                            className=\"chat-view-image\"\n                                          // onClick={(event) =>\n                                          //   handleImagePreview(event, 1)\n                                          // }\n                                          />\n                                        ) : (\n                                          \"\"\n                                        )}\n                                        {chatMessage.chat_asset_url &&\n                                          chatMessage.file_type == \"audio\" ? (\n                                          chatMessage.is_user_needs_pay ===\n                                            1 ? (\n                                            <Image\n                                              src={chatMessage.chat_asset_url}\n                                              className=\"chat-view-image\"\n                                            ></Image>\n                                          ) : (\n                                            <ReactAudioPlayer\n                                              src={chatMessage.chat_asset_url}\n                                              controls={true}\n                                              width=\"450px\"\n                                              height=\"450px\"\n                                              className=\"chat-room-audio-display\"\n                                              autoPlay={false}\n                                              controlsList={\"nodownload\"}\n                                            />\n                                            // <ReactPlayer\n                                            //   url={chatMessage.chat_asset_url}\n                                            //   controls={true}\n                                            //   width=\"450px\"\n                                            //   height=\"450px\"\n                                            //   className=\"chat-room-audio-display\"\n                                            // />\n                                          )\n                                        ) : (\n                                          \"\"\n                                        )}\n\n                                        {chatMessage.is_user_needs_pay ===\n                                          1 ? (\n                                          <div className=\"gallery-top-btn-sec chat-room-pay-display\">\n                                            <Button\n                                              className=\"subscribe-post-btn-sec\"\n                                              onClick={(event) =>\n                                                handleAssetPayment(\n                                                  event,\n                                                  chatMessage.chat_message_id,\n                                                  chatMessage.amount,\n                                                  chatMessage.amount_formatted\n                                                )\n                                              }\n                                            >\n                                              {chatMessage.payment_text}\n                                            </Button>\n                                          </div>\n                                        ) : (\n                                          \"\"\n                                        )}\n                                      </div>\n                                      {chatMessage.message == \"\" ? null : (\n                                        <>\n                                          <p>\n                                            {\n                                              props.chatMessages.data.user\n                                                .name\n                                            }\n                                            , {chatMessage.created}\n                                          </p>\n                                          <h6>{chatMessage.message}</h6>\n                                        </>\n                                      )}\n                                    </div>\n                                  </div>\n                                )}{\" \"}\n                              </>\n                            )\n                          )\n                          : \"\"}\n                      </div>\n                      {/* <p className=\"typing-text mt-5\">Jason Doyle is typing...</p> */}\n                    </div>\n                    <div className=\"user-chat-main-wrapper-footer\">\n                      <Form\n                        id=\"chat_post_form\"\n                        className=\"has-advanced-upload\"\n                        onSubmit={handleChatSubmit}\n                      >\n                        <InputGroup hasValidation>\n                          <FormControl\n                            placeholder={t(\"type_a_message\")}\n                            aria-label=\"Type a message\"\n                            aria-describedby=\"basic-addon2\"\n                            value={inputMessage}\n                            onChange={(event) => {\n                              chatInputChange(event.currentTarget.value);\n                            }}\n                          />\n                          <div className=\"chat-icon-sec\">\n                            {configuration.get(\n                              \"configData.is_chat_asset_enabled\"\n                            ) == 1 ? (\n                              <>\n                                <InputGroup.Append>\n                                  <InputGroup.Text\n                                    id=\"basic-addon2\"\n                                    className=\"chat-border-needed border-radius-zero\"\n                                  >\n                                    <Button\n                                      type=\"button\"\n                                      data-can_send=\"true\"\n                                      className=\"g-btn m-rounded b-chat__btn-submit\"\n                                      onClick={() =>\n                                        handleAssetUploadModal(\"image\")\n                                      }\n                                    >\n                                      <Image\n                                        src={\n                                          window.location.origin +\n                                          \"/assets/images/icons/popover-image.svg\"\n                                        }\n                                        className=\"svg-clone  wh-32\"\n                                      />\n                                    </Button>\n                                  </InputGroup.Text>\n                                </InputGroup.Append>\n                                <InputGroup.Append>\n                                  <InputGroup.Text\n                                    id=\"basic-addon2\"\n                                    className=\"border-radius-zero\"\n                                  >\n                                    <Button\n                                      type=\"button\"\n                                      data-can_send=\"true\"\n                                      className=\"g-btn m-rounded b-chat__btn-submit\"\n                                      onClick={() =>\n                                        handleAssetUploadModal(\"video\")\n                                      }\n                                    >\n                                      <Image\n                                        src={\n                                          window.location.origin +\n                                          \"/assets/images/icons/popover-video.svg\"\n                                        }\n                                        className=\"svg-clone  wh-32\"\n                                      />\n                                    </Button>\n                                  </InputGroup.Text>\n                                </InputGroup.Append>\n                                <InputGroup.Append>\n                                  <InputGroup.Text\n                                    id=\"basic-addon2\"\n                                    className=\"chat-border-zero\"\n                                  >\n                                    <Button\n                                      type=\"button\"\n                                      data-can_send=\"true\"\n                                      className=\"g-btn m-rounded b-chat__btn-submit\"\n                                      onClick={() =>\n                                        handleAssetUploadModal(\"audio\")\n                                      }\n                                    >\n                                      <Image\n                                        src={\n                                          window.location.origin +\n                                          \"/assets/images/icons/popover-mic.svg\"\n                                        }\n                                        className=\"svg-clone  wh-32\"\n                                      />\n                                    </Button>\n                                  </InputGroup.Text>\n                                </InputGroup.Append>\n                              </>\n                            ) : (\n                              \"\"\n                            )}\n                            <InputGroup.Append>\n                              <InputGroup.Text\n                                id=\"basic-addon2\"\n                                className=\"position-relative last-child-mobile-icon chat-border-zero\"\n                              >\n                                <Button\n                                  type=\"button\"\n                                  className=\"space-between-evenly\"\n                                  data-can_send=\"true\"\n                                  onClick={handleChatSubmit}\n                                  ref={invalidMessageRef}\n                                >\n                                  {/* <i className=\"far fa-paper-plane\"></i> */}\n                                  <Image\n                                    className=\"comment-send-icon\"\n                                    src={\n                                      window.location.origin +\n                                      \"/assets/images/icons/comment-send-icon.png\"\n                                    }\n                                  />\n                                </Button>\n                              </InputGroup.Text>\n                            </InputGroup.Append>\n                            <InputGroup.Append>\n                              <InputGroup.Text>\n                                <Overlay\n                                  target={invalidMessageRef}\n                                  show={emptyMessageCheck}\n                                  placement=\"top\"\n                                >\n                                  {(props) => (\n                                    <Tooltip id=\"chat-invalid\" {...props}>\n                                 {t(\"please_type_a_message\")}\n                                    </Tooltip>\n                                  )}\n                                </Overlay>\n                                <Button\n                                  className=\"ml-2\"\n                                  type=\"button\"\n                                  onClick={triggerPicker}\n                                >\n                                  <i className=\"far fa-smile\"></i>\n                                </Button>\n                              </InputGroup.Text>\n                            </InputGroup.Append>\n                          </div>\n                        </InputGroup>\n                      </Form>\n                    </div>\n                    {emojiPickerState && (\n                      <div className=\"emojiWrapper chat-emoji\">\n                        <Picker\n                          title=\"\"\n                          emoji=\"point_up\"\n                          onSelect={(emoji) => handleEmojiSelect(emoji)}\n                        />\n                      </div>\n                    )}\n                  </div>\n                ) : (\n                  <InboxNoDataFound />\n                )}\n              </div>\n            </Col>\n          </Row>\n        </Container>\n        <ChatAssetModal\n          chatAssetUpload={chatAssetUpload}\n          closeChatAssetUploadModal={closeChatAssetUploadModal}\n          fileType={fileType}\n          toUserId={toUserId}\n        />\n        {props.chatMessages.loading ? (\n          t(\"loading\")\n        ) : (\n          // <AssetPaymentModal\n          //   chatPayment={chatPayment}\n          //   closePaymentModal={closePaymentModal}\n          //   paymentData={paymentData}\n          // />\n          chatPayment ?\n            <ChatAssetPaymentModal\n              paymentsModal={chatPayment}\n              closepaymentsModal={closePaymentModal}\n              paymentData={paymentData}\n            />\n            : null\n        )}\n      </div>\n    </>\n  );\n};\n\nconst mapStateToPros = (state) => ({\n  chatUsers: state.chat.chatUsers,\n  chatMessages: state.chat.messages,\n  assetUpload: state.chatAsset.saveAssetUpload,\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return { dispatch };\n}\n\nexport default connect(\n  mapStateToPros,\n  mapDispatchToProps\n)(translate(UserChatIndex));\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}