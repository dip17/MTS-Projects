{"ast":null,"code":"var _jsxFileName = \"/home/mts/FX-Project/src/components/AudioPlayer/AltraAudioPlayer.jsx\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport useAudioPlayer from \"../../hooks/useAudioPlayer\";\nimport Play from \"./Play\";\nimport Pause from \"./Pause\";\nimport Bar from \"./Bar\";\nimport './player.css';\nimport { Button, Image, Modal } from \"react-bootstrap\";\nimport PrevBtn from \"./PrevBtn\";\nimport NextBtn from \"./NextBtn\";\nconst AltraAudioPlayer = ({\n  src,\n  srcKey = \"file\",\n  initialIndex = 0,\n  imageKey = \"image\",\n  repeat = false,\n  listLoop = false,\n  autoPlay = true,\n  autoNext = false,\n  ...props\n}) => {\n  const audioref = useRef;\n  const [image, setImage] = useState();\n  const [bg, setBg] = useState(0);\n  const [audioIndex, setAudioIndex] = useState(initialIndex);\n  const prev = () => {\n    if (audioIndex != 0) {\n      setAudioIndex(audioIndex - 1);\n    } else if (listLoop) {\n      setAudioIndex(src.length - 1);\n    }\n  };\n  const next = () => {\n    if (audioIndex != src.length - 1) {\n      setAudioIndex(audioIndex + 1);\n    } else if (listLoop) {\n      setAudioIndex(0);\n    }\n  };\n  const {\n    curTime,\n    duration,\n    playing,\n    setPlaying,\n    setClickedTime,\n    changeSrc,\n    isBuffering\n  } = useAudioPlayer(src[audioIndex][srcKey], repeat, next, autoNext);\n  const gradients = [\"linear-gradient(0deg, rgba(34, 193, 195, 1) 0%, rgba(253, 187, 45, 1) 100%)\", \"linear-gradient(0deg, rgba(34, 193, 195, 1) 0%, rgba(252,70,107,1) 100%)\", \"linear-gradient(0deg, rgba(253,29,29,1) 0%, rgba(252,70,107,1) 100%)\", \"linear-gradient(0deg, rgba(63,94,251,1) 0%, rgba(252,70,107,1) 100%)\", \"linear-gradient(0deg, rgba(131,58,180,1) 0%, rgba(253,29,29,1) 100%)\", \"linear-gradient(0deg, rgba(34, 193, 195, 1) 0%, rgba(252,176,69,1) 100%)\", \"linear-gradient(0deg, rgba(252,176,69,1) 0%, rgba(252,70,107,1) 100%)\"];\n  useEffect(() => {\n    changeSrc(src[audioIndex][srcKey]);\n    // setBg(Math.floor(Math.random() * gradients.length));\n    setBg(audioIndex % gradients.length);\n    if (autoPlay) {\n      setPlaying(true);\n    } else {\n      setPlaying(false);\n    }\n    if (imageKey && src[audioIndex][imageKey]) {\n      setImage(src[audioIndex][imageKey]);\n    } else {\n      setImage(null);\n    }\n  }, [audioIndex]);\n  return /*#__PURE__*/React.createElement(Modal, {\n    centered: true,\n    size: \"md\",\n    className: \"modal-dialog-center sent-tip-modal\",\n    show: true,\n    onHide: () => {\n      setPlaying(false);\n      setTimeout(() => {\n        props.closeAudioPlayer();\n      }, [50]);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"modal-close\",\n    onClick: () => {\n      setPlaying(false);\n      setTimeout(() => {\n        props.closeAudioPlayer();\n      }, [50]);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    className: \"close-icon\",\n    src: window.location.origin + \"/assets/images/new-chat/modal-close.svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"player\",\n    style: image ? {\n      backgroundImage: `url(${image})`,\n      backgroundPosition: \"center\",\n      backgroundSize: \"cover\",\n      height: \"250px\"\n    } : {\n      background: gradients[bg]\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"controls\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"basic-controls\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(PrevBtn, {\n    handleClick: () => prev(),\n    disabled: audioIndex === 0 && !listLoop,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 15\n    }\n  }), playing ? /*#__PURE__*/React.createElement(Pause, {\n    handleClick: () => setPlaying(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }) : /*#__PURE__*/React.createElement(Play, {\n    handleClick: () => setPlaying(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(NextBtn, {\n    handleClick: () => next(),\n    disabled: audioIndex === src.length - 1 && !listLoop,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Bar, {\n    curTime: curTime,\n    duration: duration,\n    onTimeUpdate: time => setClickedTime(time),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  })))));\n};\nexport default AltraAudioPlayer;","map":{"version":3,"names":["React","useState","useEffect","useRef","useAudioPlayer","Play","Pause","Bar","Button","Image","Modal","PrevBtn","NextBtn","AltraAudioPlayer","src","srcKey","initialIndex","imageKey","repeat","listLoop","autoPlay","autoNext","props","audioref","image","setImage","bg","setBg","audioIndex","setAudioIndex","prev","length","next","curTime","duration","playing","setPlaying","setClickedTime","changeSrc","isBuffering","gradients","createElement","centered","size","className","show","onHide","setTimeout","closeAudioPlayer","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick","window","location","origin","Body","style","backgroundImage","backgroundPosition","backgroundSize","height","background","handleClick","disabled","onTimeUpdate","time"],"sources":["/home/mts/FX-Project/src/components/AudioPlayer/AltraAudioPlayer.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport useAudioPlayer from \"../../hooks/useAudioPlayer\";\nimport Play from \"./Play\";\nimport Pause from \"./Pause\";\nimport Bar from \"./Bar\";\nimport './player.css';\nimport { Button, Image, Modal } from \"react-bootstrap\";\nimport PrevBtn from \"./PrevBtn\";\nimport NextBtn from \"./NextBtn\";\n\n\nconst AltraAudioPlayer = ({\n  src,\n  srcKey = \"file\",\n  initialIndex = 0,\n  imageKey = \"image\",\n  repeat = false,\n  listLoop = false,\n  autoPlay = true,\n  autoNext = false,\n  ...props\n}) => {\n\n  const audioref = useRef;\n  const [image, setImage] = useState();\n  const [bg, setBg] = useState(0);\n  const [audioIndex, setAudioIndex] = useState(initialIndex);\n\n  const prev = () => {\n    if (audioIndex != 0) {\n      setAudioIndex(audioIndex - 1);\n    } else if (listLoop) {\n      setAudioIndex(src.length - 1);\n    }\n  }\n\n  const next = () => {\n    if (audioIndex != src.length - 1) {\n      setAudioIndex(audioIndex + 1);\n    } else if (listLoop) {\n      setAudioIndex(0);\n    }\n  }\n\n  const {\n    curTime,\n    duration,\n    playing,\n    setPlaying,\n    setClickedTime,\n    changeSrc,\n    isBuffering\n  } = useAudioPlayer(src[audioIndex][srcKey], repeat, next, autoNext);\n\n  const gradients = [\n    \"linear-gradient(0deg, rgba(34, 193, 195, 1) 0%, rgba(253, 187, 45, 1) 100%)\",\n    \"linear-gradient(0deg, rgba(34, 193, 195, 1) 0%, rgba(252,70,107,1) 100%)\",\n    \"linear-gradient(0deg, rgba(253,29,29,1) 0%, rgba(252,70,107,1) 100%)\",\n    \"linear-gradient(0deg, rgba(63,94,251,1) 0%, rgba(252,70,107,1) 100%)\",\n    \"linear-gradient(0deg, rgba(131,58,180,1) 0%, rgba(253,29,29,1) 100%)\",\n    \"linear-gradient(0deg, rgba(34, 193, 195, 1) 0%, rgba(252,176,69,1) 100%)\",\n    \"linear-gradient(0deg, rgba(252,176,69,1) 0%, rgba(252,70,107,1) 100%)\",\n  ];\n\n\n  useEffect(() => {\n    changeSrc(src[audioIndex][srcKey]);\n    // setBg(Math.floor(Math.random() * gradients.length));\n    setBg(audioIndex % gradients.length);\n    if (autoPlay) {\n      setPlaying(true);\n    } else {\n      setPlaying(false);\n    }\n    if (imageKey && src[audioIndex][imageKey]) {\n      setImage(src[audioIndex][imageKey]);\n    } else {\n      setImage(null);\n    }\n  }, [audioIndex]);\n\n  return (\n    <Modal\n      centered\n      size=\"md\"\n      className=\"modal-dialog-center sent-tip-modal\"\n      show={true}\n      onHide={() => {\n        setPlaying(false);\n        setTimeout(() => {\n          props.closeAudioPlayer();\n        }, [50]);\n      }}\n    >\n      <Button className=\"modal-close\" onClick={() => {\n        setPlaying(false);\n        setTimeout(() => {\n          props.closeAudioPlayer();\n        }, [50]);\n      }}>\n        <Image\n          className=\"close-icon\"\n          src={\n            window.location.origin + \"/assets/images/new-chat/modal-close.svg\"\n          }\n        />\n      </Button>\n      <Modal.Body>\n        <div className=\"player\" style={image ? {\n          backgroundImage: `url(${image})`,\n          backgroundPosition: \"center\",\n          backgroundSize: \"cover\",\n          height: \"250px\"\n        } : { background: gradients[bg] }}>\n          <div className=\"controls\">\n            <div className=\"basic-controls\">\n              <PrevBtn handleClick={() => prev()} disabled={audioIndex === 0 && !listLoop} />\n              {playing ?\n                <Pause handleClick={() => setPlaying(false)} /> :\n                <Play handleClick={() => setPlaying(true)} />\n              }\n              <NextBtn handleClick={() => next()} disabled={(audioIndex === src.length - 1) && !listLoop} />\n            </div>\n            <Bar curTime={curTime} duration={duration} onTimeUpdate={(time) => setClickedTime(time)} />\n          </div>\n        </div>\n      </Modal.Body>\n    </Modal>\n  );\n\n}\n\nexport default AltraAudioPlayer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}