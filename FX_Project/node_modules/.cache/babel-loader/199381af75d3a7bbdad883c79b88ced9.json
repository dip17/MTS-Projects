{"ast":null,"code":"var _jsxFileName = \"/home/mts/Vishal/src/components/CustomComponents/AudioPlayer/AltraChatAudioPlayer.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport useAudioPlayer from '../../../hooks/useAudioPlayer';\nimport Pause from './Pause';\nimport Play from './Play';\nimport './ChatAudioPlayer.css';\nimport WaveProgressBar from './WaveProgressBar';\nimport { changeChatAudio } from '../../../store/actions/ChatAction';\nimport { connect } from 'react-redux';\nconst AltraChatAudioPlayer = props => {\n  const {\n    curTime,\n    duration,\n    playing,\n    setPlaying,\n    setClickedTime,\n    changeSrc\n  } = useAudioPlayer(props.src, false);\n  const [skipRender, setSkipRender] = useState(true);\n  useEffect(() => {\n    changeSrc(props.src);\n  }, [props.src]);\n  function formatDuration(duration) {\n    if (duration) {\n      var date = new Date(null);\n      date.setSeconds(duration);\n      return date.toISOString().substr(14, 5);\n    } else {\n      return \"00:00\";\n    }\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"altra_chat_audio_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(WaveProgressBar, {\n    curTime: curTime,\n    duration: duration,\n    onTimeUpdate: time => setClickedTime(time),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, formatDuration(duration - curTime)), playing ? /*#__PURE__*/React.createElement(Pause, {\n    handleClick: () => setPlaying(false),\n    className: \"altra_chat_audio_btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }\n  }) : /*#__PURE__*/React.createElement(Play, {\n    handleClick: () => {\n      props.dispatch(changeChatAudio({\n        src: props.src\n      }));\n      setPlaying(true);\n    },\n    className: \"altra_chat_audio_btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {},\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }));\n};\nconst mapStateToPros = state => ({\n  currentAudio: state.chat.currentAudio\n});\nfunction mapDispatchToProps(dispatch) {\n  return {\n    dispatch\n  };\n}\nexport default connect(mapStateToPros, mapDispatchToProps)(AltraChatAudioPlayer);","map":{"version":3,"names":["React","useState","useEffect","useAudioPlayer","Pause","Play","WaveProgressBar","changeChatAudio","connect","AltraChatAudioPlayer","props","curTime","duration","playing","setPlaying","setClickedTime","changeSrc","src","skipRender","setSkipRender","formatDuration","date","Date","setSeconds","toISOString","substr","createElement","Fragment","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onTimeUpdate","time","handleClick","dispatch","style","mapStateToPros","state","currentAudio","chat","mapDispatchToProps"],"sources":["/home/mts/Vishal/src/components/CustomComponents/AudioPlayer/AltraChatAudioPlayer.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport useAudioPlayer from '../../../hooks/useAudioPlayer';\nimport Pause from './Pause';\nimport Play from './Play';\nimport './ChatAudioPlayer.css';\nimport WaveProgressBar from './WaveProgressBar';\nimport { changeChatAudio } from '../../../store/actions/ChatAction';\nimport { connect } from 'react-redux';\n\nconst AltraChatAudioPlayer = (props) => {\n\n  const { curTime, duration, playing, setPlaying, setClickedTime, changeSrc } = useAudioPlayer(props.src, false);\n\n  const [skipRender, setSkipRender] = useState(true);\n\n  useEffect(() => {\n    changeSrc(props.src);\n  }, [props.src]);\n\n  function formatDuration(duration) {\n    if (duration) {\n      var date = new Date(null);\n      date.setSeconds(duration);\n      return date.toISOString().substr(14, 5);\n    } else {\n      return \"00:00\";\n    }\n  }\n\n  return (\n    <>\n      <div className=\"altra_chat_audio_container\">\n        <WaveProgressBar curTime={curTime} duration={duration} onTimeUpdate={(time) => setClickedTime(time)} />\n        <div>{formatDuration(duration - curTime)}</div>\n        {playing ?\n          <Pause handleClick={() => setPlaying(false)} className=\"altra_chat_audio_btn\" /> :\n          <Play handleClick={() => {\n            props.dispatch(changeChatAudio({\n              src: props.src\n            }))\n            setPlaying(true)\n          }} className=\"altra_chat_audio_btn\" />\n        }\n      </div>\n      <div style={{}}></div>\n    </>\n  );\n}\n\nconst mapStateToPros = (state) => ({\n  currentAudio: state.chat.currentAudio,\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return { dispatch };\n}\n\nexport default connect(\n  mapStateToPros,\n  mapDispatchToProps\n)(AltraChatAudioPlayer);"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,cAAc,MAAM,+BAA+B;AAC1D,OAAOC,KAAK,MAAM,SAAS;AAC3B,OAAOC,IAAI,MAAM,QAAQ;AACzB,OAAO,uBAAuB;AAC9B,OAAOC,eAAe,MAAM,mBAAmB;AAC/C,SAASC,eAAe,QAAQ,mCAAmC;AACnE,SAASC,OAAO,QAAQ,aAAa;AAErC,MAAMC,oBAAoB,GAAIC,KAAK,IAAK;EAEtC,MAAM;IAAEC,OAAO;IAAEC,QAAQ;IAAEC,OAAO;IAAEC,UAAU;IAAEC,cAAc;IAAEC;EAAU,CAAC,GAAGb,cAAc,CAACO,KAAK,CAACO,GAAG,EAAE,KAAK,CAAC;EAE9G,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGlB,QAAQ,CAAC,IAAI,CAAC;EAElDC,SAAS,CAAC,MAAM;IACdc,SAAS,CAACN,KAAK,CAACO,GAAG,CAAC;EACtB,CAAC,EAAE,CAACP,KAAK,CAACO,GAAG,CAAC,CAAC;EAEf,SAASG,cAAcA,CAACR,QAAQ,EAAE;IAChC,IAAIA,QAAQ,EAAE;MACZ,IAAIS,IAAI,GAAG,IAAIC,IAAI,CAAC,IAAI,CAAC;MACzBD,IAAI,CAACE,UAAU,CAACX,QAAQ,CAAC;MACzB,OAAOS,IAAI,CAACG,WAAW,CAAC,CAAC,CAACC,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC;IACzC,CAAC,MAAM;MACL,OAAO,OAAO;IAChB;EACF;EAEA,oBACEzB,KAAA,CAAA0B,aAAA,CAAA1B,KAAA,CAAA2B,QAAA,qBACE3B,KAAA,CAAA0B,aAAA;IAAKE,SAAS,EAAC,4BAA4B;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACzClC,KAAA,CAAA0B,aAAA,CAACpB,eAAe;IAACK,OAAO,EAAEA,OAAQ;IAACC,QAAQ,EAAEA,QAAS;IAACuB,YAAY,EAAGC,IAAI,IAAKrB,cAAc,CAACqB,IAAI,CAAE;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eACvGlC,KAAA,CAAA0B,aAAA;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAMd,cAAc,CAACR,QAAQ,GAAGD,OAAO,CAAO,CAAC,EAC9CE,OAAO,gBACNb,KAAA,CAAA0B,aAAA,CAACtB,KAAK;IAACiC,WAAW,EAAEA,CAAA,KAAMvB,UAAU,CAAC,KAAK,CAAE;IAACc,SAAS,EAAC,sBAAsB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,gBAChFlC,KAAA,CAAA0B,aAAA,CAACrB,IAAI;IAACgC,WAAW,EAAEA,CAAA,KAAM;MACvB3B,KAAK,CAAC4B,QAAQ,CAAC/B,eAAe,CAAC;QAC7BU,GAAG,EAAEP,KAAK,CAACO;MACb,CAAC,CAAC,CAAC;MACHH,UAAU,CAAC,IAAI,CAAC;IAClB,CAAE;IAACc,SAAS,EAAC,sBAAsB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAEpC,CAAC,eACNlC,KAAA,CAAA0B,aAAA;IAAKa,KAAK,EAAE,CAAC,CAAE;IAAAV,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAM,CACrB,CAAC;AAEP,CAAC;AAED,MAAMM,cAAc,GAAIC,KAAK,KAAM;EACjCC,YAAY,EAAED,KAAK,CAACE,IAAI,CAACD;AAC3B,CAAC,CAAC;AAEF,SAASE,kBAAkBA,CAACN,QAAQ,EAAE;EACpC,OAAO;IAAEA;EAAS,CAAC;AACrB;AAEA,eAAe9B,OAAO,CACpBgC,cAAc,EACdI,kBACF,CAAC,CAACnC,oBAAoB,CAAC"},"metadata":{},"sourceType":"module"}