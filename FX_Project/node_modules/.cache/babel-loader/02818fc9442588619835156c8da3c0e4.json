{"ast":null,"code":"var _jsxFileName = \"/home/mts/Vishal/src/components/CustomComponents/AudioPlayer/WaveProgressBar.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport Wave from './Wave';\nconst WaveProgressBar = props => {\n  const {\n    duration,\n    curTime,\n    onTimeUpdate,\n    animated = true,\n    id = Math.random() * (1000 - 1) + 1\n  } = props;\n  const curPercentage = curTime / duration * 100;\n  function calcClickedTime(e) {\n    const clickPositionInPage = e.pageX;\n    const bar = document.querySelector(\".bar__progress\");\n    const barStart = bar.getBoundingClientRect().left + window.scrollX;\n    const barWidth = bar.offsetWidth;\n    const clickPositionInBar = clickPositionInPage - barStart;\n    const timePerPixel = duration / barWidth;\n    return timePerPixel * clickPositionInBar;\n  }\n  function handleTimeDrag(e) {\n    onTimeUpdate(calcClickedTime(e));\n    const updateTimeOnMove = eMove => {\n      onTimeUpdate(calcClickedTime(eMove));\n    };\n    document.addEventListener(\"mousemove\", updateTimeOnMove);\n    document.addEventListener(\"mouseup\", () => {\n      document.removeEventListener(\"mousemove\", updateTimeOnMove);\n    });\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"altra_chat_audio_range\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Wave, {\n    curPercentage: curPercentage,\n    animated: animated,\n    id: id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bar__progress\",\n    style: {\n      // background: `linear-gradient(to right, orange ${curPercentage}%, white 0)`\n    },\n    onMouseDown: e => handleTimeDrag(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"bar__progress__knob\",\n    style: {\n      left: `${curPercentage - 2}%`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  })));\n};\nexport default WaveProgressBar;","map":{"version":3,"names":["React","useEffect","useState","Wave","WaveProgressBar","props","duration","curTime","onTimeUpdate","animated","id","Math","random","curPercentage","calcClickedTime","e","clickPositionInPage","pageX","bar","document","querySelector","barStart","getBoundingClientRect","left","window","scrollX","barWidth","offsetWidth","clickPositionInBar","timePerPixel","handleTimeDrag","updateTimeOnMove","eMove","addEventListener","removeEventListener","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","onMouseDown"],"sources":["/home/mts/Vishal/src/components/CustomComponents/AudioPlayer/WaveProgressBar.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Wave from './Wave';\n\nconst WaveProgressBar = (props) => {\n  const { duration, curTime, onTimeUpdate, animated = true, id = (Math.random() * (1000 - 1) + 1) } = props;\n\n  const curPercentage = (curTime / duration) * 100;\n\n  function calcClickedTime(e) {\n    const clickPositionInPage = e.pageX;\n    const bar = document.querySelector(\".bar__progress\");\n    const barStart = bar.getBoundingClientRect().left + window.scrollX;\n    const barWidth = bar.offsetWidth;\n    const clickPositionInBar = clickPositionInPage - barStart;\n    const timePerPixel = duration / barWidth;\n    return timePerPixel * clickPositionInBar;\n  }\n\n  function handleTimeDrag(e) {\n    onTimeUpdate(calcClickedTime(e));\n\n    const updateTimeOnMove = eMove => {\n      onTimeUpdate(calcClickedTime(eMove));\n    };\n\n    document.addEventListener(\"mousemove\", updateTimeOnMove);\n\n    document.addEventListener(\"mouseup\", () => {\n      document.removeEventListener(\"mousemove\", updateTimeOnMove);\n    });\n  }\n\n  return (\n    <div className=\"altra_chat_audio_range\">\n      <Wave curPercentage={curPercentage} animated={animated} id={id} />\n      <div\n        className=\"bar__progress\"\n        style={{\n          // background: `linear-gradient(to right, orange ${curPercentage}%, white 0)`\n        }}\n        onMouseDown={e => handleTimeDrag(e)}\n      >\n        <span\n          className=\"bar__progress__knob\"\n          style={{ left: `${curPercentage - 2}%` }}\n        />\n      </div>\n    </div>\n  );\n}\n\n\n\nexport default WaveProgressBar;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,IAAI,MAAM,QAAQ;AAEzB,MAAMC,eAAe,GAAIC,KAAK,IAAK;EACjC,MAAM;IAAEC,QAAQ;IAAEC,OAAO;IAAEC,YAAY;IAAEC,QAAQ,GAAG,IAAI;IAAEC,EAAE,GAAIC,IAAI,CAACC,MAAM,CAAC,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC,GAAG;EAAG,CAAC,GAAGP,KAAK;EAEzG,MAAMQ,aAAa,GAAIN,OAAO,GAAGD,QAAQ,GAAI,GAAG;EAEhD,SAASQ,eAAeA,CAACC,CAAC,EAAE;IAC1B,MAAMC,mBAAmB,GAAGD,CAAC,CAACE,KAAK;IACnC,MAAMC,GAAG,GAAGC,QAAQ,CAACC,aAAa,CAAC,gBAAgB,CAAC;IACpD,MAAMC,QAAQ,GAAGH,GAAG,CAACI,qBAAqB,CAAC,CAAC,CAACC,IAAI,GAAGC,MAAM,CAACC,OAAO;IAClE,MAAMC,QAAQ,GAAGR,GAAG,CAACS,WAAW;IAChC,MAAMC,kBAAkB,GAAGZ,mBAAmB,GAAGK,QAAQ;IACzD,MAAMQ,YAAY,GAAGvB,QAAQ,GAAGoB,QAAQ;IACxC,OAAOG,YAAY,GAAGD,kBAAkB;EAC1C;EAEA,SAASE,cAAcA,CAACf,CAAC,EAAE;IACzBP,YAAY,CAACM,eAAe,CAACC,CAAC,CAAC,CAAC;IAEhC,MAAMgB,gBAAgB,GAAGC,KAAK,IAAI;MAChCxB,YAAY,CAACM,eAAe,CAACkB,KAAK,CAAC,CAAC;IACtC,CAAC;IAEDb,QAAQ,CAACc,gBAAgB,CAAC,WAAW,EAAEF,gBAAgB,CAAC;IAExDZ,QAAQ,CAACc,gBAAgB,CAAC,SAAS,EAAE,MAAM;MACzCd,QAAQ,CAACe,mBAAmB,CAAC,WAAW,EAAEH,gBAAgB,CAAC;IAC7D,CAAC,CAAC;EACJ;EAEA,oBACE/B,KAAA,CAAAmC,aAAA;IAAKC,SAAS,EAAC,wBAAwB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACrC1C,KAAA,CAAAmC,aAAA,CAAChC,IAAI;IAACU,aAAa,EAAEA,aAAc;IAACJ,QAAQ,EAAEA,QAAS;IAACC,EAAE,EAAEA,EAAG;IAAA2B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eAClE1C,KAAA,CAAAmC,aAAA;IACEC,SAAS,EAAC,eAAe;IACzBO,KAAK,EAAE;MACL;IAAA,CACA;IACFC,WAAW,EAAE7B,CAAC,IAAIe,cAAc,CAACf,CAAC,CAAE;IAAAsB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAEpC1C,KAAA,CAAAmC,aAAA;IACEC,SAAS,EAAC,qBAAqB;IAC/BO,KAAK,EAAE;MAAEpB,IAAI,EAAG,GAAEV,aAAa,GAAG,CAAE;IAAG,CAAE;IAAAwB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAC1C,CACE,CACF,CAAC;AAEV,CAAC;AAID,eAAetC,eAAe"},"metadata":{},"sourceType":"module"}