{"ast":null,"code":"var _jsxFileName = \"/home/mts/FX-Project/src/components/Accounts/Profile/UploadProfilePicture.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { Container, Row, Col, Form, Image, Button } from \"react-bootstrap\";\nimport \"./UploadProfilePicture.css\";\nimport { connect } from \"react-redux\";\nimport { translate, t } from \"react-multi-lang\";\nimport { updateUserDetailsStart, fetchUserDetailsStart } from \"../../../store/actions/UserAction\";\nconst UploadProfilePicture = props => {\n  const [profileInputData, setProfileInputData] = useState({});\n  const [image, setImage] = useState({\n    picture: \"\",\n    cover: \"\"\n  });\n  useEffect(() => {\n    if (props.profile.loading) props.dispatch(fetchUserDetailsStart());\n  }, []);\n  const handleChangeImage = event => {\n    if (event.currentTarget.type === \"file\") {\n      setProfileInputData({\n        ...profileInputData,\n        [event.currentTarget.name]: event.currentTarget.files[0]\n      });\n      let reader = new FileReader();\n      let file = event.currentTarget.files[0];\n      if (event.currentTarget.name === \"picture\") {\n        reader.onloadend = () => {\n          setImage({\n            ...image,\n            picture: reader.result\n          });\n        };\n      }\n      if (file) {\n        reader.readAsDataURL(file);\n      }\n    }\n  };\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (Object.keys(profileInputData).length > 0) props.dispatch(updateUserDetailsStart(profileInputData));else props.dispatch(updateUserDetailsStart());\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"document-upload-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"head-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, t(\"upload_profile_picture\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"upload-profile-picture-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"upload-profile-picture-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    className: \"upload-profile-img-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    id: \"file\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(Form.Control, {\n    className: \"hidden-input\",\n    id: \"changePicture\",\n    type: \"file\",\n    accept: \"image/*\",\n    name: \"picture\",\n    onChange: handleChangeImage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(Form.Label, {\n    for: \"file\",\n    className: \"hidden-input\",\n    for: \"changePicture\",\n    type: \"file\",\n    title: \"Change picture\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: image.picture === \"\" ? window.location.origin + \"/assets/images/upload-profile-img.svg\" : image.picture,\n    className: \"upload-profile-picture-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"edit-icon-sec\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-upload\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 27\n    }\n  }))))))), /*#__PURE__*/React.createElement(Col, {\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"upload-profile-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 19\n    }\n  }, t(\"profile_photo\")), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"desc\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 19\n    }\n  }, t(\"profile_photo_para\")), /*#__PURE__*/React.createElement(Button, {\n    className: \"upload-profile-img-btn btn-block\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 19\n    }\n  }, t(\"submit\")))))))));\n};\nconst mapStateToPros = state => ({\n  profile: state.users.profile,\n  profileInputData: state.users.profileInputData\n});\nfunction mapDispatchToProps(dispatch) {\n  return {\n    dispatch\n  };\n}\nexport default connect(mapStateToPros, mapDispatchToProps)(translate(UploadProfilePicture));","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","Form","Image","Button","connect","translate","t","updateUserDetailsStart","fetchUserDetailsStart","UploadProfilePicture","props","profileInputData","setProfileInputData","image","setImage","picture","cover","profile","loading","dispatch","handleChangeImage","event","currentTarget","type","name","files","reader","FileReader","file","onloadend","result","readAsDataURL","handleSubmit","preventDefault","Object","keys","length","createElement","Fragment","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","md","Group","id","Control","accept","onChange","Label","for","title","src","window","location","origin","onClick","mapStateToPros","state","users","mapDispatchToProps"],"sources":["/home/mts/FX-Project/src/components/Accounts/Profile/UploadProfilePicture.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Container, Row, Col, Form, Image, Button } from \"react-bootstrap\";\nimport \"./UploadProfilePicture.css\";\nimport { connect } from \"react-redux\";\nimport { translate, t } from \"react-multi-lang\";\n\nimport {\n  updateUserDetailsStart,\n  fetchUserDetailsStart,\n} from \"../../../store/actions/UserAction\";\n\nconst UploadProfilePicture = (props) => {\n  const [profileInputData, setProfileInputData] = useState({});\n\n  const [image, setImage] = useState({\n    picture: \"\",\n    cover: \"\",\n  });\n\n  useEffect(() => {\n    if (props.profile.loading) props.dispatch(fetchUserDetailsStart());\n  }, []);\n\n  const handleChangeImage = (event) => {\n    if (event.currentTarget.type === \"file\") {\n      setProfileInputData({\n        ...profileInputData,\n        [event.currentTarget.name]: event.currentTarget.files[0],\n      });\n      let reader = new FileReader();\n      let file = event.currentTarget.files[0];\n\n      if (event.currentTarget.name === \"picture\") {\n        reader.onloadend = () => {\n          setImage({ ...image, picture: reader.result });\n        };\n      }\n\n      if (file) {\n        reader.readAsDataURL(file);\n      }\n    }\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (Object.keys(profileInputData).length > 0)\n      props.dispatch(updateUserDetailsStart(profileInputData));\n    else props.dispatch(updateUserDetailsStart());\n  };\n\n  return (\n    <>\n      <div className=\"document-upload-sec\">\n        <Container>\n          <h4 className=\"head-title\">{t(\"upload_profile_picture\")}</h4>\n          <div className=\"upload-profile-picture-card\">\n            <Row>\n              <Col md={6}>\n                <div className=\"upload-profile-picture-sec\">\n                  <Form className=\"upload-profile-img-form\">\n                    <Form.Group>\n                      <input type=\"file\" id=\"file\" />\n                      <Form.Control\n                        className=\"hidden-input\"\n                        id=\"changePicture\"\n                        type=\"file\"\n                        accept=\"image/*\"\n                        name=\"picture\"\n                        onChange={handleChangeImage}\n                      />\n                      <Form.Label\n                        for=\"file\"\n                        className=\"hidden-input\"\n                        for=\"changePicture\"\n                        type=\"file\"\n                        title=\"Change picture\"\n                      >\n                        <Image\n                          src={\n                            image.picture === \"\"\n                              ? window.location.origin +\n                                \"/assets/images/upload-profile-img.svg\"\n                              : image.picture\n                          }\n                          className=\"upload-profile-picture-img\"\n                        />\n                        <div className=\"edit-icon-sec\">\n                          <i className=\"fas fa-upload\"></i>\n                        </div>\n                      </Form.Label>\n                    </Form.Group>\n                  </Form>\n                </div>\n              </Col>\n              <Col md={6}>\n                <div className=\"upload-profile-info\">\n                  <h2 className=\"title\">{t(\"profile_photo\")}</h2>\n                  <p className=\"desc\">{t(\"profile_photo_para\")}</p>\n                  <Button\n                    className=\"upload-profile-img-btn btn-block\"\n                    onClick={handleSubmit}\n                  >\n                    {t(\"submit\")}\n                  </Button>\n                </div>\n              </Col>\n            </Row>\n          </div>\n        </Container>\n      </div>\n    </>\n  );\n};\n\nconst mapStateToPros = (state) => ({\n  profile: state.users.profile,\n  profileInputData: state.users.profileInputData,\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return { dispatch };\n}\n\nexport default connect(\n  mapStateToPros,\n  mapDispatchToProps\n)(translate(UploadProfilePicture));\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}